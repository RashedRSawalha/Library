2025-01-26 11:55:27.689 +03:00 [DBG] Initializing Razor view compiler with no compiled views.
2025-01-26 11:55:27.835 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-01-26 11:55:27.983 +03:00 [DBG] Hosting starting
2025-01-26 11:55:28.054 +03:00 [INF] User profile is available. Using 'C:\Users\rashe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-26 11:55:28.079 +03:00 [DBG] Reading data from file 'C:\Users\rashe\AppData\Local\ASP.NET\DataProtection-Keys\key-34f2e68a-4570-439a-8454-209f4db72d73.xml'.
2025-01-26 11:55:28.171 +03:00 [DBG] Found key {34f2e68a-4570-439a-8454-209f4db72d73}.
2025-01-26 11:55:28.186 +03:00 [DBG] Considering key {34f2e68a-4570-439a-8454-209f4db72d73} with expiration date 2025-04-13 07:54:25Z as default key.
2025-01-26 11:55:28.191 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-01-26 11:55:28.192 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-01-26 11:55:28.195 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-01-26 11:55:28.202 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-01-26 11:55:28.204 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-01-26 11:55:28.205 +03:00 [DBG] Using key {34f2e68a-4570-439a-8454-209f4db72d73} as the default key.
2025-01-26 11:55:28.206 +03:00 [DBG] Key ring with default key {34f2e68a-4570-439a-8454-209f4db72d73} was loaded during application startup.
2025-01-26 11:55:28.450 +03:00 [DBG] Loaded hosting startup assembly LibraryManagementAPI
2025-01-26 11:55:28.451 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-01-26 11:55:28.451 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-01-26 11:55:28.451 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-01-26 11:55:28.570 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/index.html - null null
2025-01-26 11:55:28.698 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-26 11:55:28.699 +03:00 [INF] Hosting environment: Development
2025-01-26 11:55:28.699 +03:00 [INF] Content root path: C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library
2025-01-26 11:55:28.699 +03:00 [DBG] Hosting started
2025-01-26 11:55:30.139 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-01-26 11:55:30.203 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-01-26 11:55:30.204 +03:00 [DBG] Request did not match any endpoints
2025-01-26 11:55:30.363 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-01-26 11:55:30.367 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-01-26 11:55:30.461 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-01-26 11:55:30.463 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-01-26 11:55:30.477 +03:00 [DBG] Connection ID "18302628886439002113" disconnecting.
2025-01-26 11:55:30.481 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/index.html - 200 null text/html;charset=utf-8 1920.4762ms
2025-01-26 11:55:32.570 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - null null
2025-01-26 11:55:32.585 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_vs/browserLink - null null
2025-01-26 11:55:32.616 +03:00 [DBG] Connection ID "18158513737017851905" disconnecting.
2025-01-26 11:55:32.618 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 25.1414ms
2025-01-26 11:55:32.811 +03:00 [DBG] Connection ID "18302628916503773185" disconnecting.
2025-01-26 11:55:32.833 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_vs/browserLink - 200 null text/javascript; charset=UTF-8 248.1467ms
2025-01-26 11:55:34.167 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - null null
2025-01-26 11:55:34.172 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-01-26 11:55:34.172 +03:00 [DBG] Request did not match any endpoints
2025-01-26 11:55:34.327 +03:00 [DBG] Connection ID "18374686514836668417" disconnecting.
2025-01-26 11:55:34.327 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 160.1361ms
2025-01-26 11:56:28.327 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/RoleManagegement/register - application/json 42
2025-01-26 11:56:28.760 +03:00 [DBG] 1 candidate(s) found for the request path '/api/RoleManagegement/register'
2025-01-26 11:56:28.767 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Register (LibraryManagementAPI)' with route pattern 'api/RoleManagegement/register' is valid for the request path '/api/RoleManagegement/register'
2025-01-26 11:56:28.771 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Register (LibraryManagementAPI)'
2025-01-26 11:56:28.781 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 11:56:28.979 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-26 11:56:28.991 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 11:56:28.991 +03:00 [INF] CORS policy execution successful.
2025-01-26 11:56:28.995 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Register (LibraryManagementAPI)'
2025-01-26 11:56:29.102 +03:00 [INF] Route matched with {action = "Register", controller = "RoleManagegement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(LibraryManagementDomain.Models.RegisterModel) on controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI).
2025-01-26 11:56:29.104 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-26 11:56:29.105 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 11:56:29.106 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 11:56:29.107 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 11:56:29.107 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 11:56:29.110 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI)
2025-01-26 11:56:29.808 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-01-26 11:56:30.517 +03:00 [DBG] The index {'CourseId'} was not created on entity type 'StudentCourse (Dictionary<string, object>)' as the properties are already covered by the index {'CourseId', 'StudentId'}.
2025-01-26 11:56:30.627 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-01-26 11:56:30.767 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 11:56:30.788 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI)
2025-01-26 11:56:30.797 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.RegisterModel' ...
2025-01-26 11:56:30.799 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.RegisterModel' using the name '' in request data ...
2025-01-26 11:56:30.801 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 11:56:30.855 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.RegisterModel'
2025-01-26 11:56:30.856 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.RegisterModel'.
2025-01-26 11:56:30.856 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.RegisterModel'.
2025-01-26 11:56:30.857 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.RegisterModel' ...
2025-01-26 11:56:30.903 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.RegisterModel'.
2025-01-26 11:56:31.076 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.Id == __model_RoleId_0)'
2025-01-26 11:56:31.502 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Role>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required, 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Roles AS r
            WHERE r.Id == @__model_RoleId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required, 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Roles AS r
            WHERE r.Id == @__model_RoleId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Role entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Role instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Role);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Role.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Role)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")]: 
                            {
                                return 
                                {
                                    Role instance;
                                    instance = new Role();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Name>k__BackingField = dataReader.GetString(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Role)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: LibraryManagementInfrastructure.LibraryDBContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-26 11:56:31.572 +03:00 [DBG] Creating DbConnection.
2025-01-26 11:56:31.672 +03:00 [DBG] Created DbConnection. (100ms).
2025-01-26 11:56:31.686 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:56:32.462 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:56:32.472 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 11:56:32.491 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2025-01-26 11:56:32.506 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (35ms).
2025-01-26 11:56:32.526 +03:00 [DBG] Executing DbCommand [Parameters=[@__model_RoleId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Id" = @__model_RoleId_0
LIMIT 1
2025-01-26 11:56:32.701 +03:00 [INF] Executed DbCommand (177ms) [Parameters=[@__model_RoleId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Id" = @__model_RoleId_0
LIMIT 1
2025-01-26 11:56:32.799 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Role' entity with key '{Id: 3}'.
2025-01-26 11:56:32.848 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:56:32.871 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 155ms reading results.
2025-01-26 11:56:32.880 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:56:32.886 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (6ms).
2025-01-26 11:56:33.457 +03:00 [DBG] 'LibraryDBContext' generated temporary value '-2147482647' for the property 'User.Id'.
2025-01-26 11:56:33.484 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'User' entity with key '{Id: -2147482647}'.
2025-01-26 11:56:33.490 +03:00 [DBG] SaveChanges starting for 'LibraryDBContext'.
2025-01-26 11:56:33.498 +03:00 [DBG] DetectChanges starting for 'LibraryDBContext'.
2025-01-26 11:56:33.516 +03:00 [DBG] DetectChanges completed for 'LibraryDBContext'.
2025-01-26 11:56:33.614 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:56:33.616 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:56:33.620 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 11:56:33.620 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 11:56:33.620 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 11:56:33.620 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='$2a$11$ubxtWhWKnR/YTNuTodeW5es9rvFE2LsrmxFtYephCII9ev0M/kKP6' (Nullable = false), @p1='3'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("PasswordHash", "RoleId")
VALUES (@p0, @p1)
RETURNING "Id";
2025-01-26 11:56:33.660 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@p0='$2a$11$ubxtWhWKnR/YTNuTodeW5es9rvFE2LsrmxFtYephCII9ev0M/kKP6' (Nullable = false), @p1='3'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("PasswordHash", "RoleId")
VALUES (@p0, @p1)
RETURNING "Id";
2025-01-26 11:56:33.675 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed from '-2147482647' to '12' for entity with key '{Id: 12}'.
2025-01-26 11:56:33.681 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:56:33.681 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 20ms reading results.
2025-01-26 11:56:33.682 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:56:33.682 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 11:56:33.694 +03:00 [DBG] The 'User' entity with key '{Id: 12}' tracked by 'LibraryDBContext' changed state from '"Added"' to '"Unchanged"'.
2025-01-26 11:56:33.699 +03:00 [DBG] SaveChanges completed for 'LibraryDBContext' with 1 entities written to the database.
2025-01-26 11:56:33.709 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 11:56:33.712 +03:00 [DBG] No information found on request to perform content negotiation.
2025-01-26 11:56:33.713 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 11:56:33.713 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 11:56:33.714 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 11:56:33.715 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-26 11:56:33.742 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.RoleManagegementController.Register (LibraryManagementAPI) in 4629.1315ms
2025-01-26 11:56:33.744 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Register (LibraryManagementAPI)'
2025-01-26 11:56:33.749 +03:00 [INF] HTTP POST /api/RoleManagegement/register responded 200 in 4961.5069 ms
2025-01-26 11:56:33.755 +03:00 [DBG] Connection ID "18374686506246733825" disconnecting.
2025-01-26 11:56:33.758 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 11:56:33.762 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:56:33.764 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (1ms).
2025-01-26 11:56:33.767 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/RoleManagegement/register - 200 null application/json; charset=utf-8 5440.0091ms
2025-01-26 11:56:58.348 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/RoleManagegement/login - application/json 39
2025-01-26 11:56:58.355 +03:00 [DBG] 1 candidate(s) found for the request path '/api/RoleManagegement/login'
2025-01-26 11:56:58.356 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)' with route pattern 'api/RoleManagegement/login' is valid for the request path '/api/RoleManagegement/login'
2025-01-26 11:56:58.356 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 11:56:58.357 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 11:56:58.360 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-26 11:56:58.361 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 11:56:58.361 +03:00 [INF] CORS policy execution successful.
2025-01-26 11:56:58.362 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 11:56:58.376 +03:00 [INF] Route matched with {action = "Login", controller = "RoleManagegement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LibraryManagementDomain.Models.LoginModel) on controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI).
2025-01-26 11:56:58.376 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-26 11:56:58.377 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 11:56:58.377 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 11:56:58.377 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 11:56:58.377 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 11:56:58.378 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI)
2025-01-26 11:56:58.538 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 11:56:58.540 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI)
2025-01-26 11:56:58.541 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' ...
2025-01-26 11:56:58.541 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' using the name '' in request data ...
2025-01-26 11:56:58.542 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 11:56:58.546 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.LoginModel'
2025-01-26 11:56:58.546 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 11:56:58.546 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 11:56:58.546 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' ...
2025-01-26 11:56:58.551 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 11:56:58.561 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __model_Id_0)'
2025-01-26 11:56:58.574 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string) Required, 1], [Property: User.RoleId (int) Required, 2] }
            SELECT TOP(1) u.Id, u.PasswordHash, u.RoleId
            FROM Users AS u
            WHERE u.Id == @__model_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string) Required, 1], [Property: User.RoleId (int) Required, 2] }
            SELECT TOP(1) u.Id, u.PasswordHash, u.RoleId
            FROM Users AS u
            WHERE u.Id == @__model_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(1);
                                    instance.<RoleId>k__BackingField = dataReader.GetInt32(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: LibraryManagementInfrastructure.LibraryDBContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-26 11:56:58.583 +03:00 [DBG] Creating DbConnection.
2025-01-26 11:56:58.583 +03:00 [DBG] Created DbConnection. (0ms).
2025-01-26 11:56:58.584 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:56:58.584 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:56:58.585 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 11:56:58.585 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 11:56:58.585 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 11:56:58.585 +03:00 [DBG] Executing DbCommand [Parameters=[@__model_Id_0='12'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."PasswordHash", u."RoleId"
FROM "Users" AS u
WHERE u."Id" = @__model_Id_0
LIMIT 1
2025-01-26 11:56:58.606 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__model_Id_0='12'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."PasswordHash", u."RoleId"
FROM "Users" AS u
WHERE u."Id" = @__model_Id_0
LIMIT 1
2025-01-26 11:56:58.613 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'User' entity with key '{Id: 12}'.
2025-01-26 11:56:58.614 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:56:58.614 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2025-01-26 11:56:58.614 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:56:58.614 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 11:56:59.222 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.Id == __user_RoleId_0)'
2025-01-26 11:56:59.231 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Role>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required, 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Roles AS r
            WHERE r.Id == @__user_RoleId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required, 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Roles AS r
            WHERE r.Id == @__user_RoleId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Role entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Role instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Role);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Role.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Role)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")]: 
                            {
                                return 
                                {
                                    Role instance;
                                    instance = new Role();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Name>k__BackingField = dataReader.GetString(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Role)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: LibraryManagementInfrastructure.LibraryDBContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-26 11:56:59.239 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:56:59.239 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:56:59.240 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 11:56:59.240 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 11:56:59.240 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 11:56:59.240 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_RoleId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Id" = @__user_RoleId_0
LIMIT 1
2025-01-26 11:56:59.244 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_RoleId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Id" = @__user_RoleId_0
LIMIT 1
2025-01-26 11:56:59.245 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Role' entity with key '{Id: 3}'.
2025-01-26 11:56:59.253 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:56:59.254 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 9ms reading results.
2025-01-26 11:56:59.255 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:56:59.255 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 11:56:59.264 +03:00 [DBG] Compiling query expression: 
'DbSet<RolePermission>()
    .Where(rp => rp.RoleId == __role_Id_0)
    .Select(rp => rp.Permission)'
2025-01-26 11:56:59.278 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT r.Permission
        FROM RolePermissions AS r
        WHERE r.RoleId == @__role_Id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT r.Permission
        FROM RolePermissions AS r
        WHERE r.RoleId == @__role_Id_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.GetString(0);
        return value1;
    }, 
    contextType: LibraryManagementInfrastructure.LibraryDBContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-01-26 11:56:59.281 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:56:59.281 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:56:59.282 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 11:56:59.282 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 11:56:59.282 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 11:56:59.282 +03:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Permission"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__role_Id_0
2025-01-26 11:56:59.293 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__role_Id_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Permission"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__role_Id_0
2025-01-26 11:56:59.296 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:56:59.296 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-01-26 11:56:59.296 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:56:59.297 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 11:56:59.437 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 11:56:59.437 +03:00 [DBG] No information found on request to perform content negotiation.
2025-01-26 11:56:59.437 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 11:56:59.437 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 11:56:59.438 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 11:56:59.438 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-26 11:56:59.443 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI) in 1065.7188ms
2025-01-26 11:56:59.443 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 11:56:59.444 +03:00 [INF] HTTP POST /api/RoleManagegement/login responded 200 in 1086.7929 ms
2025-01-26 11:56:59.444 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 11:56:59.445 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:56:59.445 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 11:56:59.445 +03:00 [DBG] Connection ID "18302628886439002118" disconnecting.
2025-01-26 11:56:59.445 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/RoleManagegement/login - 200 null application/json; charset=utf-8 1097.5406ms
2025-01-26 11:57:18.661 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/api/Authors - null null
2025-01-26 11:57:18.719 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 11:57:18.722 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 11:57:18.724 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)'
2025-01-26 11:57:18.739 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 11:57:18.900 +03:00 [DBG] Successfully validated the token.
2025-01-26 11:57:18.906 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 11:57:18.958 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)'
2025-01-26 11:57:18.969 +03:00 [INF] Route matched with {action = "GetAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[LibraryManagementDomain.DTO.AuthorDTO]]] GetAuthors() on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 11:57:18.970 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 11:57:18.970 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 11:57:18.970 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 11:57:18.970 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 11:57:18.970 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 11:57:18.973 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 11:57:19.014 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 11:57:19.018 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 11:57:19.026 +03:00 [INF] Logger:Fetching Authors
2025-01-26 11:57:19.048 +03:00 [DBG] Compiling query expression: 
'DbSet<Author>()'
2025-01-26 11:57:19.084 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Author>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Author.AuthorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Author.AuthorAge (int) Required, 1], [Property: Author.AuthorType (short) Required, 2], [Property: Author.Name (string) Required MaxLength(100), 3] }
        SELECT a.AuthorId, a.AuthorAge, a.AuthorType, a.Name
        FROM Authors AS a) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Author.AuthorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Author.AuthorAge (int) Required, 1], [Property: Author.AuthorType (short) Required, 2], [Property: Author.Name (string) Required MaxLength(100), 3] }
        SELECT a.AuthorId, a.AuthorAge, a.AuthorType, a.Name
        FROM Authors AS a, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Author entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Author instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Author);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Author.AuthorId PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Author)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Author | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Author | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author")]: 
                        {
                            return 
                            {
                                Author instance;
                                instance = new Author();
                                instance.<AuthorId>k__BackingField = dataReader.GetInt32(0);
                                instance.<AuthorAge>k__BackingField = dataReader.GetInt32(1);
                                instance.<AuthorType>k__BackingField = Invoke(((CastingConverter<short, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Author.AuthorType (short) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author").FindProperty("AuthorType")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(2));
                                instance.<Name>k__BackingField = dataReader.GetString(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Author | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Author)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: LibraryManagementInfrastructure.LibraryDBContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-01-26 11:57:19.094 +03:00 [DBG] Creating DbConnection.
2025-01-26 11:57:19.094 +03:00 [DBG] Created DbConnection. (0ms).
2025-01-26 11:57:19.094 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:57:19.094 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:57:19.095 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 11:57:19.095 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 11:57:19.095 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 11:57:19.095 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."AuthorId", a."AuthorAge", a."AuthorType", a."Name"
FROM "Authors" AS a
2025-01-26 11:57:19.147 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."AuthorId", a."AuthorAge", a."AuthorType", a."Name"
FROM "Authors" AS a
2025-01-26 11:57:19.165 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 1}'.
2025-01-26 11:57:19.185 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 4}'.
2025-01-26 11:57:19.185 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 5}'.
2025-01-26 11:57:19.186 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 6}'.
2025-01-26 11:57:19.187 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 7}'.
2025-01-26 11:57:19.188 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 8}'.
2025-01-26 11:57:19.189 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:57:19.189 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 41ms reading results.
2025-01-26 11:57:19.189 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:57:19.189 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 11:57:19.195 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 11:57:19.197 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-01-26 11:57:19.198 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-01-26 11:57:19.199 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 11:57:19.199 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 11:57:19.199 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 11:57:19.199 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[LibraryManagementDomain.Entities.Author, LibraryManagementDomain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[LibraryManagementDomain.DTO.AuthorDTO, LibraryManagementDomain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-26 11:57:19.224 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI) in 253.7569ms
2025-01-26 11:57:19.225 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)'
2025-01-26 11:57:19.225 +03:00 [INF] HTTP GET /api/Authors responded 200 in 485.5432 ms
2025-01-26 11:57:19.225 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 11:57:19.226 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 11:57:19.226 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 11:57:19.226 +03:00 [DBG] Connection ID "18374686484771897346" disconnecting.
2025-01-26 11:57:19.226 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/api/Authors - 200 null application/json; charset=utf-8 565.6826ms
2025-01-26 11:58:34.392 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-01-26 11:58:44.708 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 11:58:45.753 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 16.3741ms - processed: 0 items - remaining: 1 items
2025-01-26 11:58:55.803 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 11:58:55.814 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0125ms - processed: 0 items - remaining: 1 items
2025-01-26 11:59:05.824 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 11:59:05.873 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0399ms - processed: 0 items - remaining: 1 items
2025-01-26 11:59:15.937 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 11:59:15.938 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0098ms - processed: 0 items - remaining: 1 items
2025-01-26 11:59:26.138 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 11:59:26.139 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 1 items
2025-01-26 11:59:36.256 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 11:59:36.256 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.009ms - processed: 0 items - remaining: 1 items
2025-01-26 11:59:46.285 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 11:59:46.287 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0115ms - processed: 0 items - remaining: 1 items
2025-01-26 11:59:56.365 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 11:59:56.766 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 1 items
2025-01-26 12:00:06.841 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:00:06.841 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0056ms - processed: 0 items - remaining: 1 items
2025-01-26 12:00:16.892 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:00:16.892 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0458ms - processed: 0 items - remaining: 1 items
2025-01-26 12:00:26.889 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:00:26.889 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 1 items
2025-01-26 12:00:36.892 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:00:36.892 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.009ms - processed: 0 items - remaining: 1 items
2025-01-26 12:00:46.907 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:00:46.908 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.006ms - processed: 0 items - remaining: 1 items
2025-01-26 12:00:56.907 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:00:56.908 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 1 items
2025-01-26 12:01:06.923 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:01:06.926 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.5541ms - processed: 0 items - remaining: 1 items
2025-01-26 12:01:17.105 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:01:17.105 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 1 items
2025-01-26 12:01:27.109 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:01:27.109 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 1 items
2025-01-26 12:01:37.434 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:01:37.434 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 1 items
2025-01-26 12:01:47.436 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:01:47.436 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 1 items
2025-01-26 12:01:57.437 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:01:57.437 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 1 items
2025-01-26 12:02:07.466 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:02:07.468 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0095ms - processed: 0 items - remaining: 1 items
2025-01-26 12:02:17.467 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:02:17.548 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 81.0306ms - processed: 0 items - remaining: 1 items
2025-01-26 12:02:27.564 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:02:27.564 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 1 items
2025-01-26 12:02:37.580 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:02:37.580 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 1 items
2025-01-26 12:02:47.589 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:02:47.589 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0076ms - processed: 0 items - remaining: 1 items
2025-01-26 12:02:57.605 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:02:57.605 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 1 items
2025-01-26 12:03:07.617 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:03:07.617 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0095ms - processed: 0 items - remaining: 1 items
2025-01-26 12:03:17.638 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:03:17.638 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 1 items
2025-01-26 12:03:28.508 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:03:28.534 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0059ms - processed: 0 items - remaining: 1 items
2025-01-26 12:03:38.614 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:03:38.615 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 1 items
2025-01-26 12:03:48.733 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:03:49.114 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 330.3881ms - processed: 0 items - remaining: 1 items
2025-01-26 12:03:59.162 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:03:59.611 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 47.266ms - processed: 0 items - remaining: 1 items
2025-01-26 12:04:09.612 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:04:09.612 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 1 items
2025-01-26 12:04:19.615 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:04:19.615 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 1 items
2025-01-26 12:04:29.628 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:04:29.628 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 1 items
2025-01-26 12:04:39.631 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:04:39.632 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 1 items
2025-01-26 12:04:49.645 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:04:49.646 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 1 items
2025-01-26 12:04:59.650 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:04:59.651 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 1 items
2025-01-26 12:05:09.671 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:05:09.671 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 1 items
2025-01-26 12:05:19.676 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:05:19.677 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 1 items
2025-01-26 12:05:29.680 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:05:29.681 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 1 items
2025-01-26 12:05:39.691 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:05:39.691 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 1 items
2025-01-26 12:05:49.701 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:05:49.701 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 1 items
2025-01-26 12:05:59.701 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:05:59.701 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 1 items
2025-01-26 12:06:03.955 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/api/Authors - null null
2025-01-26 12:06:04.008 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 12:06:04.011 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 12:06:04.015 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)'
2025-01-26 12:06:04.029 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 12:06:04.078 +03:00 [DBG] Successfully validated the token.
2025-01-26 12:06:04.094 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 12:06:04.124 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)'
2025-01-26 12:06:04.156 +03:00 [INF] Route matched with {action = "GetAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[LibraryManagementDomain.DTO.AuthorDTO]]] GetAuthors() on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 12:06:04.161 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 12:06:04.165 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 12:06:04.169 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 12:06:04.169 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 12:06:04.170 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 12:06:04.179 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 12:06:04.279 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 12:06:04.294 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 12:06:04.304 +03:00 [INF] Logger:Fetching Authors
2025-01-26 12:06:04.329 +03:00 [DBG] Creating DbConnection.
2025-01-26 12:06:04.333 +03:00 [DBG] Created DbConnection. (3ms).
2025-01-26 12:06:04.333 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 12:06:04.553 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 12:06:04.563 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 12:06:04.567 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-26 12:06:04.567 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-26 12:06:04.567 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."AuthorId", a."AuthorAge", a."AuthorType", a."Name"
FROM "Authors" AS a
2025-01-26 12:06:04.608 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."AuthorId", a."AuthorAge", a."AuthorType", a."Name"
FROM "Authors" AS a
2025-01-26 12:06:04.616 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 1}'.
2025-01-26 12:06:04.618 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 4}'.
2025-01-26 12:06:04.618 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 5}'.
2025-01-26 12:06:04.619 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 6}'.
2025-01-26 12:06:04.619 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 7}'.
2025-01-26 12:06:04.619 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 8}'.
2025-01-26 12:06:04.620 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 12:06:04.621 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 11ms reading results.
2025-01-26 12:06:04.622 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 12:06:04.623 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 12:06:04.625 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 12:06:04.627 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-01-26 12:06:04.627 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-01-26 12:06:04.627 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 12:06:04.627 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 12:06:04.627 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 12:06:04.628 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[LibraryManagementDomain.Entities.Author, LibraryManagementDomain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[LibraryManagementDomain.DTO.AuthorDTO, LibraryManagementDomain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-26 12:06:04.636 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI) in 466.6045ms
2025-01-26 12:06:04.637 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)'
2025-01-26 12:06:04.637 +03:00 [INF] HTTP GET /api/Authors responded 200 in 607.8662 ms
2025-01-26 12:06:04.638 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 12:06:04.638 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 12:06:04.639 +03:00 [DBG] Connection ID "18302628920798740481" disconnecting.
2025-01-26 12:06:04.639 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 12:06:04.641 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/api/Authors - 200 null application/json; charset=utf-8 705.0429ms
2025-01-26 12:06:09.928 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:06:09.929 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 1 items
2025-01-26 12:06:10.936 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/api/Authors - null null
2025-01-26 12:06:10.936 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 12:06:10.936 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 12:06:10.936 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)'
2025-01-26 12:06:10.936 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 12:06:10.945 +03:00 [DBG] Successfully validated the token.
2025-01-26 12:06:10.945 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 12:06:10.946 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)'
2025-01-26 12:06:10.946 +03:00 [INF] Route matched with {action = "GetAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[LibraryManagementDomain.DTO.AuthorDTO]]] GetAuthors() on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 12:06:10.946 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 12:06:10.946 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 12:06:10.946 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 12:06:10.947 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 12:06:10.947 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 12:06:10.947 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 12:06:10.948 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 12:06:10.948 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 12:06:10.949 +03:00 [INF] Logger:Fetching Authors
2025-01-26 12:06:10.950 +03:00 [DBG] Creating DbConnection.
2025-01-26 12:06:10.950 +03:00 [DBG] Created DbConnection. (0ms).
2025-01-26 12:06:10.950 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 12:06:10.950 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 12:06:10.950 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 12:06:10.951 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 12:06:10.951 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 12:06:10.951 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."AuthorId", a."AuthorAge", a."AuthorType", a."Name"
FROM "Authors" AS a
2025-01-26 12:06:10.975 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."AuthorId", a."AuthorAge", a."AuthorType", a."Name"
FROM "Authors" AS a
2025-01-26 12:06:10.981 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 1}'.
2025-01-26 12:06:10.984 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 4}'.
2025-01-26 12:06:10.985 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 5}'.
2025-01-26 12:06:10.987 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 6}'.
2025-01-26 12:06:10.987 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 7}'.
2025-01-26 12:06:10.987 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 8}'.
2025-01-26 12:06:10.987 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 12:06:10.987 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 9ms reading results.
2025-01-26 12:06:10.988 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 12:06:10.988 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 12:06:10.988 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 12:06:10.989 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-01-26 12:06:10.990 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-01-26 12:06:10.990 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 12:06:10.991 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 12:06:10.991 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 12:06:10.991 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[LibraryManagementDomain.Entities.Author, LibraryManagementDomain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[LibraryManagementDomain.DTO.AuthorDTO, LibraryManagementDomain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-26 12:06:10.993 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI) in 46.0361ms
2025-01-26 12:06:10.993 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)'
2025-01-26 12:06:10.993 +03:00 [INF] HTTP GET /api/Authors responded 200 in 57.1572 ms
2025-01-26 12:06:10.994 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 12:06:10.994 +03:00 [DBG] Connection ID "18302628920798740483" disconnecting.
2025-01-26 12:06:10.995 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 12:06:10.995 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 12:06:10.995 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/api/Authors - 200 null application/json; charset=utf-8 59.9095ms
2025-01-26 12:06:15.090 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/Authors - application/json 61
2025-01-26 12:06:15.090 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 12:06:15.093 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 12:06:15.094 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 12:06:15.095 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 12:06:15.095 +03:00 [DBG] Successfully validated the token.
2025-01-26 12:06:15.095 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 12:06:15.097 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 12:06:15.097 +03:00 [INF] CORS policy execution successful.
2025-01-26 12:06:15.098 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 12:06:15.127 +03:00 [INF] Route matched with {action = "AddAuthor", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddAuthor(LibraryManagementDomain.Models.AuthorModel) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 12:06:15.127 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 12:06:15.127 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 12:06:15.127 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 12:06:15.128 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 12:06:15.128 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 12:06:15.128 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 12:06:15.129 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 12:06:15.129 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 12:06:15.130 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 12:06:15.131 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' using the name '' in request data ...
2025-01-26 12:06:15.131 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 12:06:15.144 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.AuthorModel'
2025-01-26 12:06:15.144 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 12:06:15.144 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 12:06:15.144 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 12:06:15.226 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 12:06:15.638 +03:00 [DBG] Creating DbConnection.
2025-01-26 12:06:15.638 +03:00 [DBG] Created DbConnection. (0ms).
2025-01-26 12:06:15.638 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 12:06:15.639 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 12:06:15.647 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-01-26 12:06:15.661 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-01-26 12:06:15.674 +03:00 [DBG] Compiling query expression: 
'DbSet<Author>()
    .Any(a => a.Name == __request_Model_Name_0)'
2025-01-26 12:06:15.697 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Authors AS a
                WHERE a.Name == @__request_Model_Name_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Authors AS a
                WHERE a.Name == @__request_Model_Name_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: LibraryManagementInfrastructure.LibraryDBContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-26 12:06:15.706 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 12:06:15.706 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 12:06:15.710 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-26 12:06:15.711 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_Model_Name_0='Sawalha'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Authors" AS a
    WHERE a."Name" = @__request_Model_Name_0)
2025-01-26 12:06:15.728 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__request_Model_Name_0='Sawalha'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Authors" AS a
    WHERE a."Name" = @__request_Model_Name_0)
2025-01-26 12:06:15.735 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 12:06:15.735 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 6ms reading results.
2025-01-26 12:06:15.759 +03:00 [DBG] 'LibraryDBContext' generated temporary value '-2147482647' for the property 'Author.AuthorId'.
2025-01-26 12:06:15.762 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: -2147482647}'.
2025-01-26 12:06:16.436 +03:00 [DBG] SaveChanges starting for 'LibraryDBContext'.
2025-01-26 12:06:16.436 +03:00 [DBG] DetectChanges starting for 'LibraryDBContext'.
2025-01-26 12:06:16.443 +03:00 [DBG] DetectChanges completed for 'LibraryDBContext'.
2025-01-26 12:06:16.452 +03:00 [DBG] Creating transaction savepoint.
2025-01-26 12:06:16.463 +03:00 [DBG] Created transaction savepoint.
2025-01-26 12:06:16.464 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 12:06:16.464 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 12:06:16.466 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-26 12:06:16.466 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='40', @p1='2', @p2='Sawalha' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Authors" ("AuthorAge", "AuthorType", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "AuthorId";
2025-01-26 12:06:16.479 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='40', @p1='2', @p2='Sawalha' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Authors" ("AuthorAge", "AuthorType", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "AuthorId";
2025-01-26 12:06:16.482 +03:00 [DBG] The foreign key property 'Author.AuthorId' was detected as changed from '-2147482647' to '9' for entity with key '{AuthorId: 9}'.
2025-01-26 12:06:16.484 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 12:06:16.484 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
2025-01-26 12:06:16.486 +03:00 [DBG] Releasing transaction savepoint.
2025-01-26 12:06:16.492 +03:00 [DBG] Released transaction savepoint.
2025-01-26 12:06:16.494 +03:00 [DBG] The 'Author' entity with key '{AuthorId: 9}' tracked by 'LibraryDBContext' changed state from '"Added"' to '"Unchanged"'.
2025-01-26 12:06:16.494 +03:00 [DBG] SaveChanges completed for 'LibraryDBContext' with 1 entities written to the database.
2025-01-26 12:06:16.495 +03:00 [DBG] Committing transaction.
2025-01-26 12:06:16.511 +03:00 [DBG] Committed transaction.
2025-01-26 12:06:16.515 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 12:06:16.516 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 12:06:16.594 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 12:06:16.594 +03:00 [DBG] No information found on request to perform content negotiation.
2025-01-26 12:06:16.594 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 12:06:16.594 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 12:06:16.594 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 12:06:16.594 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'LibraryManagementDomain.DTO.AuthorDTO'.
2025-01-26 12:06:16.640 +03:00 [DBG] Found the endpoints ["LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)"] for address (id=[0],action=[AddAuthor],controller=[Authors])
2025-01-26 12:06:16.646 +03:00 [DBG] Successfully processed template api/Authors for LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI) resulting in /api/Authors and ?id=0
2025-01-26 12:06:16.652 +03:00 [DBG] Link generation succeeded for endpoints ["LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)"] with result /api/Authors?id=0
2025-01-26 12:06:16.654 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI) in 1526.1652ms
2025-01-26 12:06:16.654 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 12:06:16.654 +03:00 [INF] HTTP POST /api/Authors responded 201 in 1559.3914 ms
2025-01-26 12:06:16.654 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 12:06:16.654 +03:00 [DBG] Connection ID "18158513741312819201" disconnecting.
2025-01-26 12:06:16.654 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 12:06:16.654 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 12:06:16.655 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/Authors - 201 null application/json; charset=utf-8 1564.911ms
2025-01-26 12:06:19.934 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:06:19.935 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 1 items
2025-01-26 12:06:21.636 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/api/Authors - null null
2025-01-26 12:06:21.637 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 12:06:21.637 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 12:06:21.637 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)'
2025-01-26 12:06:21.637 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 12:06:21.637 +03:00 [DBG] Successfully validated the token.
2025-01-26 12:06:21.638 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 12:06:21.648 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)'
2025-01-26 12:06:21.648 +03:00 [INF] Route matched with {action = "GetAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[LibraryManagementDomain.DTO.AuthorDTO]]] GetAuthors() on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 12:06:21.648 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 12:06:21.648 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 12:06:21.648 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 12:06:21.648 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 12:06:21.648 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 12:06:21.649 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 12:06:21.650 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 12:06:21.650 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 12:06:21.651 +03:00 [INF] Logger:Fetching Authors
2025-01-26 12:06:21.651 +03:00 [DBG] Creating DbConnection.
2025-01-26 12:06:21.651 +03:00 [DBG] Created DbConnection. (0ms).
2025-01-26 12:06:21.651 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 12:06:21.651 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 12:06:21.652 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 12:06:21.652 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 12:06:21.652 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 12:06:21.652 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."AuthorId", a."AuthorAge", a."AuthorType", a."Name"
FROM "Authors" AS a
2025-01-26 12:06:21.660 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."AuthorId", a."AuthorAge", a."AuthorType", a."Name"
FROM "Authors" AS a
2025-01-26 12:06:21.662 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 1}'.
2025-01-26 12:06:21.663 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 4}'.
2025-01-26 12:06:21.663 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 5}'.
2025-01-26 12:06:21.663 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 6}'.
2025-01-26 12:06:21.663 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 7}'.
2025-01-26 12:06:21.663 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 8}'.
2025-01-26 12:06:21.664 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 9}'.
2025-01-26 12:06:21.664 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 12:06:21.664 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-01-26 12:06:21.664 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 12:06:21.664 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 12:06:21.664 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 12:06:21.664 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-01-26 12:06:21.664 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-01-26 12:06:21.664 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 12:06:21.664 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 12:06:21.664 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 12:06:21.664 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[LibraryManagementDomain.Entities.Author, LibraryManagementDomain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[LibraryManagementDomain.DTO.AuthorDTO, LibraryManagementDomain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-26 12:06:21.665 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI) in 16.6447ms
2025-01-26 12:06:21.665 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)'
2025-01-26 12:06:21.665 +03:00 [INF] HTTP GET /api/Authors responded 200 in 28.2608 ms
2025-01-26 12:06:21.666 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 12:06:21.666 +03:00 [DBG] Connection ID "18374686484771897348" disconnecting.
2025-01-26 12:06:21.666 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 12:06:21.666 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 12:06:21.667 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/api/Authors - 200 null application/json; charset=utf-8 30.2762ms
2025-01-26 12:06:29.938 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:06:29.938 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 1 items
2025-01-26 12:06:39.947 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:06:39.948 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 1 items
2025-01-26 12:06:41.494 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/api/Authors/by-name/Sawalha - null null
2025-01-26 12:06:41.496 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors/by-name/Sawalha'
2025-01-26 12:06:41.497 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)' with route pattern 'api/Authors/by-name/{name}' is valid for the request path '/api/Authors/by-name/Sawalha'
2025-01-26 12:06:41.497 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)'
2025-01-26 12:06:41.498 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 12:06:41.499 +03:00 [DBG] Successfully validated the token.
2025-01-26 12:06:41.499 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 12:06:41.500 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)'
2025-01-26 12:06:41.510 +03:00 [INF] Route matched with {action = "GetAuthorByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LibraryManagementDomain.DTO.AuthorDTO]] GetAuthorByName(System.String) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 12:06:41.510 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 12:06:41.510 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 12:06:41.510 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 12:06:41.510 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 12:06:41.510 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 12:06:41.510 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 12:06:41.511 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 12:06:41.511 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 12:06:41.511 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-01-26 12:06:41.513 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2025-01-26 12:06:41.514 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-01-26 12:06:41.514 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-01-26 12:06:41.514 +03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-01-26 12:06:41.516 +03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-01-26 12:06:41.546 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 12:06:41.546 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-01-26 12:06:41.546 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-01-26 12:06:41.546 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 12:06:41.546 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 12:06:41.546 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 12:06:41.546 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementDomain.DTO.AuthorDTO'.
2025-01-26 12:06:41.547 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI) in 37.1426ms
2025-01-26 12:06:41.547 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)'
2025-01-26 12:06:41.547 +03:00 [INF] HTTP GET /api/Authors/by-name/Sawalha responded 200 in 49.0224 ms
2025-01-26 12:06:41.548 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 12:06:41.548 +03:00 [DBG] Connection ID "18302628886439002120" disconnecting.
2025-01-26 12:06:41.548 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/api/Authors/by-name/Sawalha - 200 null application/json; charset=utf-8 54.1531ms
2025-01-26 12:06:49.952 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:06:49.952 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 1 items
2025-01-26 12:06:59.968 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:06:59.968 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 1 items
2025-01-26 12:07:08.157 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:44328/api/Authors/9 - application/json 61
2025-01-26 12:07:08.159 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors/9'
2025-01-26 12:07:08.159 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.UpdateAuthor (LibraryManagementAPI)' with route pattern 'api/Authors/{id}' is valid for the request path '/api/Authors/9'
2025-01-26 12:07:08.159 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.UpdateAuthor (LibraryManagementAPI)'
2025-01-26 12:07:08.159 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 12:07:08.160 +03:00 [DBG] Successfully validated the token.
2025-01-26 12:07:08.161 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 12:07:08.162 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 12:07:08.162 +03:00 [INF] CORS policy execution successful.
2025-01-26 12:07:08.163 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.UpdateAuthor (LibraryManagementAPI)'
2025-01-26 12:07:08.169 +03:00 [INF] Route matched with {action = "UpdateAuthor", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAuthor(Int32, LibraryManagementDomain.Models.AuthorModel) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 12:07:08.169 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 12:07:08.169 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 12:07:08.171 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 12:07:08.171 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 12:07:08.171 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 12:07:08.173 +03:00 [INF] Authorization failed for the request at filter 'LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute'.
2025-01-26 12:07:08.177 +03:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-01-26 12:07:08.181 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-01-26 12:07:08.181 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.UpdateAuthor (LibraryManagementAPI) in 10.3005ms
2025-01-26 12:07:08.182 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.UpdateAuthor (LibraryManagementAPI)'
2025-01-26 12:07:08.182 +03:00 [INF] HTTP PUT /api/Authors/9 responded 403 in 22.5353 ms
2025-01-26 12:07:08.197 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:44328/api/Authors/9 - 403 null null 39.9313ms
2025-01-26 12:07:08.197 +03:00 [DBG] Connection ID "18302628920798740486" disconnecting.
2025-01-26 12:07:09.976 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:07:09.976 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 1 items
2025-01-26 12:07:19.979 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:07:19.980 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 0 items - remaining: 1 items
2025-01-26 12:07:29.983 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:07:29.983 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0104ms - processed: 0 items - remaining: 1 items
2025-01-26 12:07:39.985 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:07:39.986 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 1 items
2025-01-26 12:07:50.000 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:07:50.000 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 1 items
2025-01-26 12:08:00.009 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 12:08:00.009 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-01-26 12:08:04.302 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-01-26 12:08:10.024 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:08:10.024 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 2 items
2025-01-26 12:08:20.026 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:08:20.026 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 2 items
2025-01-26 12:08:30.030 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:08:30.031 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.8354ms - processed: 0 items - remaining: 2 items
2025-01-26 12:08:40.036 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:08:40.036 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 2 items
2025-01-26 12:08:50.040 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:08:50.046 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 2 items
2025-01-26 12:09:00.049 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:09:00.050 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 2 items
2025-01-26 12:09:10.056 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:09:10.056 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 2 items
2025-01-26 12:09:20.056 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:09:20.056 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 2 items
2025-01-26 12:09:30.069 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:09:30.070 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2025-01-26 12:09:40.071 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:09:40.071 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 2 items
2025-01-26 12:09:50.074 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:09:50.074 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 2 items
2025-01-26 12:10:00.086 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:10:00.086 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 2 items
2025-01-26 12:10:10.091 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:10:10.092 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 2 items
2025-01-26 12:10:20.102 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:10:20.102 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2025-01-26 12:10:30.111 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:10:30.112 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0062ms - processed: 0 items - remaining: 2 items
2025-01-26 12:10:40.118 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:10:40.118 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 2 items
2025-01-26 12:10:50.126 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:10:50.126 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 2 items
2025-01-26 12:11:00.133 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:11:00.133 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 2 items
2025-01-26 12:11:10.144 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:11:10.144 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 2 items
2025-01-26 12:11:20.153 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:11:20.153 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 2 items
2025-01-26 12:11:30.158 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:11:30.158 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 2 items
2025-01-26 12:11:40.161 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:11:40.161 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 2 items
2025-01-26 12:11:50.166 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:11:50.167 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2025-01-26 12:12:00.179 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:12:00.179 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 2 items
2025-01-26 12:12:10.186 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:12:10.186 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2025-01-26 12:12:20.194 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:12:20.194 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 2 items
2025-01-26 12:12:30.207 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:12:30.207 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2025-01-26 12:12:40.210 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:12:40.211 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 2 items
2025-01-26 12:12:50.221 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:12:50.222 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 2 items
2025-01-26 12:13:00.230 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:13:00.231 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0055ms - processed: 0 items - remaining: 2 items
2025-01-26 12:13:10.234 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:13:10.234 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 2 items
2025-01-26 12:13:20.244 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:13:20.245 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2025-01-26 12:13:30.259 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:13:30.259 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 2 items
2025-01-26 12:13:40.268 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:13:40.268 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 2 items
2025-01-26 12:13:50.277 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:13:50.277 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 2 items
2025-01-26 12:14:00.279 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:14:00.279 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 2 items
2025-01-26 12:14:10.286 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:14:10.290 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 2 items
2025-01-26 12:14:20.292 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:14:20.292 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 2 items
2025-01-26 12:14:30.297 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:14:30.297 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0096ms - processed: 0 items - remaining: 2 items
2025-01-26 12:14:40.300 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:14:40.300 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 2 items
2025-01-26 12:14:50.308 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:14:50.308 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 2 items
2025-01-26 12:15:00.316 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:15:00.316 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 2 items
2025-01-26 12:15:10.330 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:15:10.330 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 2 items
2025-01-26 12:15:20.341 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:15:20.342 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2025-01-26 12:15:30.344 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:15:30.344 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 2 items
2025-01-26 12:15:40.350 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:15:40.350 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 2 items
2025-01-26 12:15:50.351 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:15:50.351 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 2 items
2025-01-26 12:16:00.362 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:16:00.362 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 2 items
2025-01-26 12:16:10.365 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:16:10.365 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 2 items
2025-01-26 12:16:20.376 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:16:20.376 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 2 items
2025-01-26 12:16:30.387 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:16:30.388 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 2 items
2025-01-26 12:16:40.392 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:16:40.393 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 2 items
2025-01-26 12:16:50.407 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:16:50.416 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 2 items
2025-01-26 12:17:00.424 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:17:00.424 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0061ms - processed: 0 items - remaining: 2 items
2025-01-26 12:17:10.439 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:17:10.439 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 2 items
2025-01-26 12:17:20.449 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:17:20.449 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 2 items
2025-01-26 12:18:12.963 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:18:12.964 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 2 items
2025-01-26 12:18:22.967 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 12:18:22.967 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 2 items
2025-01-26 13:09:52.988 +03:00 [DBG] Initializing Razor view compiler with no compiled views.
2025-01-26 13:09:53.030 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-01-26 13:09:53.103 +03:00 [DBG] Hosting starting
2025-01-26 13:09:53.173 +03:00 [INF] User profile is available. Using 'C:\Users\rashe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-26 13:09:53.188 +03:00 [DBG] Reading data from file 'C:\Users\rashe\AppData\Local\ASP.NET\DataProtection-Keys\key-34f2e68a-4570-439a-8454-209f4db72d73.xml'.
2025-01-26 13:09:53.224 +03:00 [DBG] Found key {34f2e68a-4570-439a-8454-209f4db72d73}.
2025-01-26 13:09:53.234 +03:00 [DBG] Considering key {34f2e68a-4570-439a-8454-209f4db72d73} with expiration date 2025-04-13 07:54:25Z as default key.
2025-01-26 13:09:53.236 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-01-26 13:09:53.237 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-01-26 13:09:53.239 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-01-26 13:09:53.242 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-01-26 13:09:53.243 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-01-26 13:09:53.244 +03:00 [DBG] Using key {34f2e68a-4570-439a-8454-209f4db72d73} as the default key.
2025-01-26 13:09:53.245 +03:00 [DBG] Key ring with default key {34f2e68a-4570-439a-8454-209f4db72d73} was loaded during application startup.
2025-01-26 13:09:53.389 +03:00 [DBG] Loaded hosting startup assembly LibraryManagementAPI
2025-01-26 13:09:53.433 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-01-26 13:09:53.433 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-01-26 13:09:53.433 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-01-26 13:09:53.519 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/index.html - null null
2025-01-26 13:09:53.672 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-26 13:09:53.672 +03:00 [INF] Hosting environment: Development
2025-01-26 13:09:53.672 +03:00 [INF] Content root path: C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library
2025-01-26 13:09:53.672 +03:00 [DBG] Hosting started
2025-01-26 13:09:55.448 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-01-26 13:09:55.471 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-01-26 13:09:55.472 +03:00 [DBG] Request did not match any endpoints
2025-01-26 13:09:55.509 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-01-26 13:09:55.510 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-01-26 13:09:55.555 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-01-26 13:09:55.555 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-01-26 13:09:55.557 +03:00 [DBG] Connection ID "18302628903618871297" disconnecting.
2025-01-26 13:09:55.559 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/index.html - 200 null text/html;charset=utf-8 2047.7575ms
2025-01-26 13:09:56.698 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_vs/browserLink - null null
2025-01-26 13:09:56.698 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - null null
2025-01-26 13:09:56.704 +03:00 [DBG] Connection ID "18374686480476930050" disconnecting.
2025-01-26 13:09:56.706 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 6.386ms
2025-01-26 13:09:56.849 +03:00 [DBG] Connection ID "18302628886439002122" disconnecting.
2025-01-26 13:09:56.855 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_vs/browserLink - 200 null text/javascript; charset=UTF-8 157.6542ms
2025-01-26 13:09:57.273 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - null null
2025-01-26 13:09:57.274 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-01-26 13:09:57.274 +03:00 [DBG] Request did not match any endpoints
2025-01-26 13:09:57.290 +03:00 [DBG] Connection ID "18374686506246733827" disconnecting.
2025-01-26 13:09:57.290 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.6082ms
2025-01-26 13:10:28.226 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/RoleManagegement/login - application/json 39
2025-01-26 13:10:28.323 +03:00 [DBG] 1 candidate(s) found for the request path '/api/RoleManagegement/login'
2025-01-26 13:10:28.329 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)' with route pattern 'api/RoleManagegement/login' is valid for the request path '/api/RoleManagegement/login'
2025-01-26 13:10:28.333 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 13:10:28.343 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 13:10:28.656 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-26 13:10:28.664 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 13:10:28.664 +03:00 [INF] CORS policy execution successful.
2025-01-26 13:10:28.671 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 13:10:28.728 +03:00 [INF] Route matched with {action = "Login", controller = "RoleManagegement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LibraryManagementDomain.Models.LoginModel) on controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI).
2025-01-26 13:10:28.730 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-26 13:10:28.730 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 13:10:28.731 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 13:10:28.731 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 13:10:28.731 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 13:10:28.735 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI)
2025-01-26 13:10:29.074 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-01-26 13:10:29.475 +03:00 [DBG] The index {'CourseId'} was not created on entity type 'StudentCourse (Dictionary<string, object>)' as the properties are already covered by the index {'CourseId', 'StudentId'}.
2025-01-26 13:10:29.575 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-01-26 13:10:29.712 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 13:10:29.726 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI)
2025-01-26 13:10:29.730 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' ...
2025-01-26 13:10:29.732 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' using the name '' in request data ...
2025-01-26 13:10:29.733 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 13:10:29.758 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.LoginModel'
2025-01-26 13:10:29.758 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 13:10:29.758 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 13:10:29.758 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' ...
2025-01-26 13:10:29.788 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 13:10:29.864 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __model_Id_0)'
2025-01-26 13:10:30.112 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string) Required, 1], [Property: User.RoleId (int) Required, 2] }
            SELECT TOP(1) u.Id, u.PasswordHash, u.RoleId
            FROM Users AS u
            WHERE u.Id == @__model_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string) Required, 1], [Property: User.RoleId (int) Required, 2] }
            SELECT TOP(1) u.Id, u.PasswordHash, u.RoleId
            FROM Users AS u
            WHERE u.Id == @__model_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(1);
                                    instance.<RoleId>k__BackingField = dataReader.GetInt32(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: LibraryManagementInfrastructure.LibraryDBContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-26 13:10:30.153 +03:00 [DBG] Creating DbConnection.
2025-01-26 13:10:30.216 +03:00 [DBG] Created DbConnection. (64ms).
2025-01-26 13:10:30.222 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:10:30.488 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:10:30.491 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 13:10:30.497 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-26 13:10:30.502 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-01-26 13:10:30.508 +03:00 [DBG] Executing DbCommand [Parameters=[@__model_Id_0='12'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."PasswordHash", u."RoleId"
FROM "Users" AS u
WHERE u."Id" = @__model_Id_0
LIMIT 1
2025-01-26 13:10:30.567 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[@__model_Id_0='12'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."PasswordHash", u."RoleId"
FROM "Users" AS u
WHERE u."Id" = @__model_Id_0
LIMIT 1
2025-01-26 13:10:30.606 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'User' entity with key '{Id: 12}'.
2025-01-26 13:10:30.621 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:10:30.626 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 54ms reading results.
2025-01-26 13:10:30.629 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:10:30.631 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (2ms).
2025-01-26 13:10:30.849 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.Id == __user_RoleId_0)'
2025-01-26 13:10:30.854 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Role>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required, 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Roles AS r
            WHERE r.Id == @__user_RoleId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required, 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Roles AS r
            WHERE r.Id == @__user_RoleId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Role entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Role instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Role);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Role.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Role)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")]: 
                            {
                                return 
                                {
                                    Role instance;
                                    instance = new Role();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Name>k__BackingField = dataReader.GetString(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Role)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: LibraryManagementInfrastructure.LibraryDBContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-26 13:10:30.856 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:10:30.857 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:10:30.857 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 13:10:30.857 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 13:10:30.857 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 13:10:30.857 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_RoleId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Id" = @__user_RoleId_0
LIMIT 1
2025-01-26 13:10:30.862 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_RoleId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Id" = @__user_RoleId_0
LIMIT 1
2025-01-26 13:10:30.870 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Role' entity with key '{Id: 3}'.
2025-01-26 13:10:30.872 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:10:30.872 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 6ms reading results.
2025-01-26 13:10:30.872 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:10:30.872 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 13:10:30.875 +03:00 [DBG] Compiling query expression: 
'DbSet<RolePermission>()
    .Where(rp => rp.RoleId == __role_Id_0)
    .Select(rp => rp.Permission)'
2025-01-26 13:10:30.878 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT r.Permission
        FROM RolePermissions AS r
        WHERE r.RoleId == @__role_Id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT r.Permission
        FROM RolePermissions AS r
        WHERE r.RoleId == @__role_Id_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.GetString(0);
        return value1;
    }, 
    contextType: LibraryManagementInfrastructure.LibraryDBContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-01-26 13:10:30.883 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:10:30.883 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:10:30.883 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 13:10:30.883 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 13:10:30.883 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 13:10:30.883 +03:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Permission"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__role_Id_0
2025-01-26 13:10:30.890 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Permission"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__role_Id_0
2025-01-26 13:10:30.891 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:10:30.891 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-01-26 13:10:30.893 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:10:30.893 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 13:10:30.974 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 13:10:30.975 +03:00 [DBG] No information found on request to perform content negotiation.
2025-01-26 13:10:30.975 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 13:10:30.975 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 13:10:30.975 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 13:10:30.976 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-26 13:10:30.989 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI) in 2253.7417ms
2025-01-26 13:10:30.989 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 13:10:30.992 +03:00 [INF] HTTP POST /api/RoleManagegement/login responded 200 in 2644.0192 ms
2025-01-26 13:10:30.995 +03:00 [DBG] Connection ID "18302628933683642371" disconnecting.
2025-01-26 13:10:30.996 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 13:10:30.999 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:10:31.002 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (2ms).
2025-01-26 13:10:31.004 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/RoleManagegement/login - 200 null application/json; charset=utf-8 2787.6696ms
2025-01-26 13:11:12.173 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/Authors - application/json 64
2025-01-26 13:11:12.177 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 13:11:12.178 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 13:11:12.178 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:11:12.178 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 13:11:12.223 +03:00 [DBG] Successfully validated the token.
2025-01-26 13:11:12.225 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 13:11:12.239 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 13:11:12.240 +03:00 [INF] CORS policy execution successful.
2025-01-26 13:11:12.240 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:11:12.246 +03:00 [INF] Route matched with {action = "AddAuthor", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddAuthor(LibraryManagementDomain.Models.AuthorModel) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 13:11:12.246 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 13:11:12.246 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 13:11:12.246 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 13:11:12.246 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 13:11:12.246 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 13:11:12.247 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 13:11:12.296 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 13:11:12.297 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 13:11:12.298 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 13:11:12.298 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' using the name '' in request data ...
2025-01-26 13:11:12.298 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 13:11:12.305 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.AuthorModel'
2025-01-26 13:11:12.306 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:11:12.306 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:11:12.306 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 13:11:12.338 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:11:12.578 +03:00 [DBG] Creating DbConnection.
2025-01-26 13:11:12.579 +03:00 [DBG] Created DbConnection. (0ms).
2025-01-26 13:11:12.579 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:11:12.579 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:11:12.582 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-01-26 13:11:12.589 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-01-26 13:11:13.572 +03:00 [DBG] Rolling back transaction.
2025-01-26 13:11:13.592 +03:00 [DBG] Rolled back transaction.
2025-01-26 13:11:13.594 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:11:13.595 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (1ms).
2025-01-26 13:11:13.597 +03:00 [DBG] Disposing transaction.
2025-01-26 13:11:13.830 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI) in 1583.4833ms
2025-01-26 13:11:13.832 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:11:13.868 +03:00 [ERR] HTTP POST /api/Authors responded 500 in 1690.2084 ms
System.InvalidOperationException: No handler registered for ICommandHandler`1
   at Shared.Helpers.Dispatcher.DispatchAsync(ICommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Shared\Helpers\Dispatcher.cs:line 24
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 45
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-01-26 13:11:14.073 +03:00 [ERR] An unhandled exception has occurred.
System.InvalidOperationException: No handler registered for ICommandHandler`1
   at Shared.Helpers.Dispatcher.DispatchAsync(ICommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Shared\Helpers\Dispatcher.cs:line 24
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 45
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at LibraryManagementAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\ExceptionHandlingMiddleware.cs:line 24
2025-01-26 13:11:14.093 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 13:11:14.094 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:11:14.094 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 13:11:14.094 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/Authors - 500 null application/json; charset=utf-8 1921.1435ms
2025-01-26 13:11:14.110 +03:00 [DBG] Connection ID "17870283330801369089" disconnecting.
2025-01-26 13:12:31.508 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-01-26 13:12:41.583 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:12:41.608 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 1.7041ms - processed: 0 items - remaining: 1 items
2025-01-26 13:12:51.616 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:12:51.619 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.2938ms - processed: 0 items - remaining: 1 items
2025-01-26 13:13:01.620 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:13:01.621 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 1 items
2025-01-26 13:13:11.630 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:13:11.630 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 1 items
2025-01-26 13:13:21.631 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:13:21.631 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 1 items
2025-01-26 13:27:22.670 +03:00 [DBG] Initializing Razor view compiler with no compiled views.
2025-01-26 13:27:22.740 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-01-26 13:27:22.853 +03:00 [DBG] Hosting starting
2025-01-26 13:27:22.927 +03:00 [INF] User profile is available. Using 'C:\Users\rashe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-26 13:27:22.955 +03:00 [DBG] Reading data from file 'C:\Users\rashe\AppData\Local\ASP.NET\DataProtection-Keys\key-34f2e68a-4570-439a-8454-209f4db72d73.xml'.
2025-01-26 13:27:22.998 +03:00 [DBG] Found key {34f2e68a-4570-439a-8454-209f4db72d73}.
2025-01-26 13:27:23.019 +03:00 [DBG] Considering key {34f2e68a-4570-439a-8454-209f4db72d73} with expiration date 2025-04-13 07:54:25Z as default key.
2025-01-26 13:27:23.026 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-01-26 13:27:23.027 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-01-26 13:27:23.031 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-01-26 13:27:23.040 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-01-26 13:27:23.042 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-01-26 13:27:23.046 +03:00 [DBG] Using key {34f2e68a-4570-439a-8454-209f4db72d73} as the default key.
2025-01-26 13:27:23.048 +03:00 [DBG] Key ring with default key {34f2e68a-4570-439a-8454-209f4db72d73} was loaded during application startup.
2025-01-26 13:27:23.271 +03:00 [DBG] Loaded hosting startup assembly LibraryManagementAPI
2025-01-26 13:27:23.272 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-01-26 13:27:23.272 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-01-26 13:27:23.272 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-01-26 13:27:23.374 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/index.html - null null
2025-01-26 13:27:23.490 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-26 13:27:23.490 +03:00 [INF] Hosting environment: Development
2025-01-26 13:27:23.490 +03:00 [INF] Content root path: C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library
2025-01-26 13:27:23.491 +03:00 [DBG] Hosting started
2025-01-26 13:27:23.617 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-01-26 13:27:23.644 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-01-26 13:27:23.646 +03:00 [DBG] Request did not match any endpoints
2025-01-26 13:27:23.717 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-01-26 13:27:23.719 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-01-26 13:27:23.782 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-01-26 13:27:23.783 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-01-26 13:27:23.787 +03:00 [DBG] Connection ID "18374686501951766529" disconnecting.
2025-01-26 13:27:23.790 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/index.html - 200 null text/html;charset=utf-8 428.0778ms
2025-01-26 13:27:24.678 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - null null
2025-01-26 13:27:24.678 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_vs/browserLink - null null
2025-01-26 13:27:24.694 +03:00 [DBG] Connection ID "18374686501951766531" disconnecting.
2025-01-26 13:27:24.701 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 8.172ms
2025-01-26 13:27:24.756 +03:00 [DBG] Connection ID "18374686523426603015" disconnecting.
2025-01-26 13:27:24.756 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_vs/browserLink - 200 null text/javascript; charset=UTF-8 78.0399ms
2025-01-26 13:27:25.165 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - null null
2025-01-26 13:27:25.165 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-01-26 13:27:25.165 +03:00 [DBG] Request did not match any endpoints
2025-01-26 13:27:25.206 +03:00 [DBG] Connection ID "18302628916503773187" disconnecting.
2025-01-26 13:27:25.206 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.1065ms
2025-01-26 13:27:50.594 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/RoleManagegement/login - application/json 39
2025-01-26 13:27:51.593 +03:00 [DBG] 1 candidate(s) found for the request path '/api/RoleManagegement/login'
2025-01-26 13:27:51.599 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)' with route pattern 'api/RoleManagegement/login' is valid for the request path '/api/RoleManagegement/login'
2025-01-26 13:27:51.600 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 13:27:51.633 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 13:27:53.113 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-26 13:27:53.122 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 13:27:53.122 +03:00 [INF] CORS policy execution successful.
2025-01-26 13:27:53.128 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 13:27:53.190 +03:00 [INF] Route matched with {action = "Login", controller = "RoleManagegement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LibraryManagementDomain.Models.LoginModel) on controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI).
2025-01-26 13:27:53.194 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-26 13:27:53.195 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 13:27:53.195 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 13:27:53.195 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 13:27:53.196 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 13:27:53.199 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI)
2025-01-26 13:27:53.463 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-01-26 13:27:53.990 +03:00 [DBG] The index {'CourseId'} was not created on entity type 'StudentCourse (Dictionary<string, object>)' as the properties are already covered by the index {'CourseId', 'StudentId'}.
2025-01-26 13:27:54.130 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-01-26 13:27:54.257 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 13:27:54.268 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI)
2025-01-26 13:27:54.274 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' ...
2025-01-26 13:27:54.277 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' using the name '' in request data ...
2025-01-26 13:27:54.278 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 13:27:54.296 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.LoginModel'
2025-01-26 13:27:54.296 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 13:27:54.296 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 13:27:54.296 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' ...
2025-01-26 13:27:54.323 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 13:27:54.421 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __model_Id_0)'
2025-01-26 13:27:54.720 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string) Required, 1], [Property: User.RoleId (int) Required, 2] }
            SELECT TOP(1) u.Id, u.PasswordHash, u.RoleId
            FROM Users AS u
            WHERE u.Id == @__model_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string) Required, 1], [Property: User.RoleId (int) Required, 2] }
            SELECT TOP(1) u.Id, u.PasswordHash, u.RoleId
            FROM Users AS u
            WHERE u.Id == @__model_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(1);
                                    instance.<RoleId>k__BackingField = dataReader.GetInt32(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: LibraryManagementInfrastructure.LibraryDBContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-26 13:27:54.762 +03:00 [DBG] Creating DbConnection.
2025-01-26 13:27:54.821 +03:00 [DBG] Created DbConnection. (60ms).
2025-01-26 13:27:54.828 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:27:55.094 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:27:55.100 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 13:27:55.113 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-01-26 13:27:55.122 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2025-01-26 13:27:55.135 +03:00 [DBG] Executing DbCommand [Parameters=[@__model_Id_0='12'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."PasswordHash", u."RoleId"
FROM "Users" AS u
WHERE u."Id" = @__model_Id_0
LIMIT 1
2025-01-26 13:27:55.216 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@__model_Id_0='12'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."PasswordHash", u."RoleId"
FROM "Users" AS u
WHERE u."Id" = @__model_Id_0
LIMIT 1
2025-01-26 13:27:55.251 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'User' entity with key '{Id: 12}'.
2025-01-26 13:27:55.270 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:27:55.278 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 55ms reading results.
2025-01-26 13:27:55.283 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:27:55.287 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (4ms).
2025-01-26 13:27:55.601 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.Id == __user_RoleId_0)'
2025-01-26 13:27:55.606 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Role>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required, 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Roles AS r
            WHERE r.Id == @__user_RoleId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required, 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Roles AS r
            WHERE r.Id == @__user_RoleId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Role entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Role instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Role);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Role.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Role)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")]: 
                            {
                                return 
                                {
                                    Role instance;
                                    instance = new Role();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Name>k__BackingField = dataReader.GetString(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Role)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: LibraryManagementInfrastructure.LibraryDBContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-26 13:27:55.614 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:27:55.615 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:27:55.615 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 13:27:55.616 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 13:27:55.616 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 13:27:55.616 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_RoleId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Id" = @__user_RoleId_0
LIMIT 1
2025-01-26 13:27:55.628 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__user_RoleId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Id" = @__user_RoleId_0
LIMIT 1
2025-01-26 13:27:55.634 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Role' entity with key '{Id: 3}'.
2025-01-26 13:27:55.639 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:27:55.640 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 11ms reading results.
2025-01-26 13:27:55.640 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:27:55.640 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 13:27:55.650 +03:00 [DBG] Compiling query expression: 
'DbSet<RolePermission>()
    .Where(rp => rp.RoleId == __role_Id_0)
    .Select(rp => rp.Permission)'
2025-01-26 13:27:55.658 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT r.Permission
        FROM RolePermissions AS r
        WHERE r.RoleId == @__role_Id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT r.Permission
        FROM RolePermissions AS r
        WHERE r.RoleId == @__role_Id_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.GetString(0);
        return value1;
    }, 
    contextType: LibraryManagementInfrastructure.LibraryDBContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-01-26 13:27:55.660 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:27:55.661 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:27:55.661 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 13:27:55.661 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 13:27:55.662 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 13:27:55.662 +03:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Permission"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__role_Id_0
2025-01-26 13:27:55.668 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Permission"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__role_Id_0
2025-01-26 13:27:55.671 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:27:55.671 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-01-26 13:27:55.671 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:27:55.671 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 13:27:55.747 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 13:27:55.749 +03:00 [DBG] No information found on request to perform content negotiation.
2025-01-26 13:27:55.750 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 13:27:55.750 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 13:27:55.751 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 13:27:55.752 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-26 13:27:55.772 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI) in 2571.7785ms
2025-01-26 13:27:55.773 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 13:27:55.777 +03:00 [INF] HTTP POST /api/RoleManagegement/login responded 200 in 4139.2394 ms
2025-01-26 13:27:55.780 +03:00 [DBG] Connection ID "18230571292401074177" disconnecting.
2025-01-26 13:27:55.781 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 13:27:55.784 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:27:55.785 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (1ms).
2025-01-26 13:27:55.788 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/RoleManagegement/login - 200 null application/json; charset=utf-8 5194.5862ms
2025-01-26 13:28:36.563 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/Authors - application/json 64
2025-01-26 13:28:36.565 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 13:28:36.566 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 13:28:36.566 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:28:36.566 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 13:28:36.636 +03:00 [DBG] Successfully validated the token.
2025-01-26 13:28:36.638 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 13:28:36.658 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 13:28:36.659 +03:00 [INF] CORS policy execution successful.
2025-01-26 13:28:36.659 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:28:36.663 +03:00 [INF] Route matched with {action = "AddAuthor", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddAuthor(LibraryManagementDomain.Models.AuthorModel) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 13:28:36.663 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 13:28:36.663 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 13:28:36.663 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 13:28:36.663 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 13:28:36.663 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 13:28:36.664 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 13:28:36.715 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 13:28:36.717 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 13:28:36.718 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 13:28:36.720 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' using the name '' in request data ...
2025-01-26 13:28:36.721 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 13:28:36.730 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.AuthorModel'
2025-01-26 13:28:36.730 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:28:36.732 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:28:36.732 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 13:28:36.770 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:28:37.024 +03:00 [DBG] Creating DbConnection.
2025-01-26 13:28:37.024 +03:00 [DBG] Created DbConnection. (0ms).
2025-01-26 13:28:37.024 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:28:37.024 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:28:37.028 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-01-26 13:28:37.034 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-01-26 13:28:37.346 +03:00 [DBG] Rolling back transaction.
2025-01-26 13:28:37.354 +03:00 [DBG] Rolled back transaction.
2025-01-26 13:28:37.356 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:28:37.358 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (1ms).
2025-01-26 13:28:37.360 +03:00 [DBG] Disposing transaction.
2025-01-26 13:28:37.430 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI) in 766.1575ms
2025-01-26 13:28:37.431 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:28:37.463 +03:00 [ERR] HTTP POST /api/Authors responded 500 in 896.9160 ms
System.InvalidOperationException: No handler registered for ICommandHandler`1
   at Shared.Helpers.Dispatcher.DispatchAsync(ICommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Shared\Helpers\Dispatcher.cs:line 24
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 43
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-01-26 13:28:37.604 +03:00 [ERR] An unhandled exception has occurred.
System.InvalidOperationException: No handler registered for ICommandHandler`1
   at Shared.Helpers.Dispatcher.DispatchAsync(ICommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Shared\Helpers\Dispatcher.cs:line 24
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 43
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at LibraryManagementAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\ExceptionHandlingMiddleware.cs:line 24
2025-01-26 13:28:37.616 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 13:28:37.616 +03:00 [DBG] Connection ID "18374686480476930053" disconnecting.
2025-01-26 13:28:37.617 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:28:37.617 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 13:28:37.617 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/Authors - 500 null application/json; charset=utf-8 1054.0511ms
2025-01-26 13:29:54.712 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-01-26 13:30:04.733 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:30:04.763 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 3.5786ms - processed: 0 items - remaining: 1 items
2025-01-26 13:30:14.767 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:30:14.791 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 1 items
2025-01-26 13:30:25.240 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:30:25.240 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0137ms - processed: 0 items - remaining: 1 items
2025-01-26 13:30:35.367 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:30:35.367 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0107ms - processed: 0 items - remaining: 1 items
2025-01-26 13:30:45.382 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:30:45.382 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 1 items
2025-01-26 13:30:55.902 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:30:55.902 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0073ms - processed: 0 items - remaining: 1 items
2025-01-26 13:31:05.992 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:31:05.993 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0174ms - processed: 0 items - remaining: 1 items
2025-01-26 13:31:15.997 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:31:16.002 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0099ms - processed: 0 items - remaining: 1 items
2025-01-26 13:31:26.001 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:31:26.001 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0117ms - processed: 0 items - remaining: 1 items
2025-01-26 13:31:36.013 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:31:36.013 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0079ms - processed: 0 items - remaining: 1 items
2025-01-26 13:31:46.028 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:31:46.029 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0111ms - processed: 0 items - remaining: 1 items
2025-01-26 13:31:56.038 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:31:56.237 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.021ms - processed: 0 items - remaining: 1 items
2025-01-26 13:32:06.240 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:32:06.240 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 1 items
2025-01-26 13:32:16.295 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:32:16.335 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0137ms - processed: 0 items - remaining: 1 items
2025-01-26 13:32:26.347 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:32:26.347 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0078ms - processed: 0 items - remaining: 1 items
2025-01-26 13:32:36.375 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:32:36.376 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0108ms - processed: 0 items - remaining: 1 items
2025-01-26 13:32:46.439 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:32:46.440 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 1 items
2025-01-26 13:32:56.440 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:32:56.531 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 90.5209ms - processed: 0 items - remaining: 1 items
2025-01-26 13:33:06.575 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:33:06.575 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0106ms - processed: 0 items - remaining: 1 items
2025-01-26 13:33:16.585 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:33:16.586 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0073ms - processed: 0 items - remaining: 1 items
2025-01-26 13:33:26.594 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:33:26.594 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 1 items
2025-01-26 13:33:36.602 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:33:36.603 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0064ms - processed: 0 items - remaining: 1 items
2025-01-26 13:33:46.628 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:33:46.628 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 1 items
2025-01-26 13:33:56.636 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:33:56.637 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0701ms - processed: 0 items - remaining: 1 items
2025-01-26 13:34:06.637 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:34:06.637 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1938ms - processed: 0 items - remaining: 1 items
2025-01-26 13:34:16.652 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:34:16.652 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 1 items
2025-01-26 13:34:26.671 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:34:26.671 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 1 items
2025-01-26 13:34:36.685 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:34:36.685 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0075ms - processed: 0 items - remaining: 1 items
2025-01-26 13:34:47.032 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:34:47.094 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0061ms - processed: 0 items - remaining: 1 items
2025-01-26 13:34:58.095 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:34:58.140 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0079ms - processed: 0 items - remaining: 1 items
2025-01-26 13:35:08.345 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:35:08.348 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0947ms - processed: 0 items - remaining: 1 items
2025-01-26 13:35:18.349 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:35:18.360 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 1 items
2025-01-26 13:35:28.353 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:35:28.354 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 1 items
2025-01-26 13:35:38.376 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:35:38.376 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 1 items
2025-01-26 13:35:48.386 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:35:48.387 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 1 items
2025-01-26 13:35:58.397 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:35:58.397 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 1 items
2025-01-26 13:36:08.413 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:36:08.413 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 1 items
2025-01-26 13:36:18.419 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:36:18.419 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 1 items
2025-01-26 13:41:42.714 +03:00 [DBG] Initializing Razor view compiler with no compiled views.
2025-01-26 13:41:42.799 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-01-26 13:41:42.908 +03:00 [DBG] Hosting starting
2025-01-26 13:41:42.974 +03:00 [INF] User profile is available. Using 'C:\Users\rashe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-26 13:41:42.996 +03:00 [DBG] Reading data from file 'C:\Users\rashe\AppData\Local\ASP.NET\DataProtection-Keys\key-34f2e68a-4570-439a-8454-209f4db72d73.xml'.
2025-01-26 13:41:43.042 +03:00 [DBG] Found key {34f2e68a-4570-439a-8454-209f4db72d73}.
2025-01-26 13:41:43.056 +03:00 [DBG] Considering key {34f2e68a-4570-439a-8454-209f4db72d73} with expiration date 2025-04-13 07:54:25Z as default key.
2025-01-26 13:41:43.059 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-01-26 13:41:43.061 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-01-26 13:41:43.063 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-01-26 13:41:43.068 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-01-26 13:41:43.070 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-01-26 13:41:43.071 +03:00 [DBG] Using key {34f2e68a-4570-439a-8454-209f4db72d73} as the default key.
2025-01-26 13:41:43.072 +03:00 [DBG] Key ring with default key {34f2e68a-4570-439a-8454-209f4db72d73} was loaded during application startup.
2025-01-26 13:41:44.215 +03:00 [DBG] Loaded hosting startup assembly LibraryManagementAPI
2025-01-26 13:41:44.216 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-01-26 13:41:44.216 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-01-26 13:41:44.216 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-01-26 13:41:44.300 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/index.html - null null
2025-01-26 13:41:44.878 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-26 13:41:44.879 +03:00 [INF] Hosting environment: Development
2025-01-26 13:41:44.879 +03:00 [INF] Content root path: C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library
2025-01-26 13:41:44.880 +03:00 [DBG] Hosting started
2025-01-26 13:41:45.013 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-01-26 13:41:45.035 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-01-26 13:41:45.036 +03:00 [DBG] Request did not match any endpoints
2025-01-26 13:41:45.099 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-01-26 13:41:45.101 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-01-26 13:41:45.140 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-01-26 13:41:45.140 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-01-26 13:41:45.149 +03:00 [DBG] Connection ID "18230571300991008771" disconnecting.
2025-01-26 13:41:45.151 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/index.html - 200 null text/html;charset=utf-8 860.542ms
2025-01-26 13:41:46.534 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - null null
2025-01-26 13:41:46.536 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_vs/browserLink - null null
2025-01-26 13:41:46.551 +03:00 [DBG] Connection ID "18302628933683642373" disconnecting.
2025-01-26 13:41:46.551 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 9.6394ms
2025-01-26 13:41:46.621 +03:00 [DBG] Connection ID "18374686501951766536" disconnecting.
2025-01-26 13:41:46.621 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_vs/browserLink - 200 null text/javascript; charset=UTF-8 86.135ms
2025-01-26 13:41:47.158 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - null null
2025-01-26 13:41:47.158 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-01-26 13:41:47.159 +03:00 [DBG] Request did not match any endpoints
2025-01-26 13:41:47.192 +03:00 [DBG] Connection ID "18302628933683642375" disconnecting.
2025-01-26 13:41:47.192 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 34.3965ms
2025-01-26 13:42:24.110 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/RoleManagegement/login - application/json 39
2025-01-26 13:42:24.222 +03:00 [DBG] 1 candidate(s) found for the request path '/api/RoleManagegement/login'
2025-01-26 13:42:24.231 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)' with route pattern 'api/RoleManagegement/login' is valid for the request path '/api/RoleManagegement/login'
2025-01-26 13:42:24.237 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 13:42:24.246 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 13:42:24.500 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-26 13:42:24.520 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 13:42:24.520 +03:00 [INF] CORS policy execution successful.
2025-01-26 13:42:24.524 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 13:42:24.651 +03:00 [INF] Route matched with {action = "Login", controller = "RoleManagegement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LibraryManagementDomain.Models.LoginModel) on controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI).
2025-01-26 13:42:24.654 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-26 13:42:24.655 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 13:42:24.656 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 13:42:24.656 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 13:42:24.656 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 13:42:24.660 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI)
2025-01-26 13:42:25.512 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-01-26 13:42:26.135 +03:00 [DBG] The index {'CourseId'} was not created on entity type 'StudentCourse (Dictionary<string, object>)' as the properties are already covered by the index {'CourseId', 'StudentId'}.
2025-01-26 13:42:26.268 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-01-26 13:42:26.421 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 13:42:26.452 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI)
2025-01-26 13:42:26.464 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' ...
2025-01-26 13:42:26.468 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' using the name '' in request data ...
2025-01-26 13:42:26.470 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 13:42:26.512 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.LoginModel'
2025-01-26 13:42:26.512 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 13:42:26.512 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 13:42:26.513 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' ...
2025-01-26 13:42:26.564 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 13:42:26.665 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __model_Id_0)'
2025-01-26 13:42:26.941 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string) Required, 1], [Property: User.RoleId (int) Required, 2] }
            SELECT TOP(1) u.Id, u.PasswordHash, u.RoleId
            FROM Users AS u
            WHERE u.Id == @__model_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string) Required, 1], [Property: User.RoleId (int) Required, 2] }
            SELECT TOP(1) u.Id, u.PasswordHash, u.RoleId
            FROM Users AS u
            WHERE u.Id == @__model_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(1);
                                    instance.<RoleId>k__BackingField = dataReader.GetInt32(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: LibraryManagementInfrastructure.LibraryDBContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-26 13:42:26.982 +03:00 [DBG] Creating DbConnection.
2025-01-26 13:42:27.069 +03:00 [DBG] Created DbConnection. (88ms).
2025-01-26 13:42:27.077 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:42:27.462 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:42:27.466 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 13:42:27.474 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-01-26 13:42:27.482 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-01-26 13:42:27.490 +03:00 [DBG] Executing DbCommand [Parameters=[@__model_Id_0='12'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."PasswordHash", u."RoleId"
FROM "Users" AS u
WHERE u."Id" = @__model_Id_0
LIMIT 1
2025-01-26 13:42:27.572 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__model_Id_0='12'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."PasswordHash", u."RoleId"
FROM "Users" AS u
WHERE u."Id" = @__model_Id_0
LIMIT 1
2025-01-26 13:42:27.625 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'User' entity with key '{Id: 12}'.
2025-01-26 13:42:27.642 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:42:27.649 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 71ms reading results.
2025-01-26 13:42:27.652 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:42:27.655 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (2ms).
2025-01-26 13:42:28.019 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.Id == __user_RoleId_0)'
2025-01-26 13:42:28.026 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Role>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required, 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Roles AS r
            WHERE r.Id == @__user_RoleId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required, 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Roles AS r
            WHERE r.Id == @__user_RoleId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Role entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Role instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Role);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Role.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Role)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")]: 
                            {
                                return 
                                {
                                    Role instance;
                                    instance = new Role();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Name>k__BackingField = dataReader.GetString(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Role)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: LibraryManagementInfrastructure.LibraryDBContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-26 13:42:28.032 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:42:28.032 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:42:28.032 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 13:42:28.032 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 13:42:28.032 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 13:42:28.032 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_RoleId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Id" = @__user_RoleId_0
LIMIT 1
2025-01-26 13:42:28.040 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_RoleId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Id" = @__user_RoleId_0
LIMIT 1
2025-01-26 13:42:28.046 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Role' entity with key '{Id: 3}'.
2025-01-26 13:42:28.049 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:42:28.049 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 8ms reading results.
2025-01-26 13:42:28.050 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:42:28.050 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 13:42:28.054 +03:00 [DBG] Compiling query expression: 
'DbSet<RolePermission>()
    .Where(rp => rp.RoleId == __role_Id_0)
    .Select(rp => rp.Permission)'
2025-01-26 13:42:28.058 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT r.Permission
        FROM RolePermissions AS r
        WHERE r.RoleId == @__role_Id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT r.Permission
        FROM RolePermissions AS r
        WHERE r.RoleId == @__role_Id_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.GetString(0);
        return value1;
    }, 
    contextType: LibraryManagementInfrastructure.LibraryDBContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-01-26 13:42:28.061 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:42:28.061 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:42:28.062 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 13:42:28.062 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 13:42:28.062 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 13:42:28.063 +03:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Permission"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__role_Id_0
2025-01-26 13:42:28.067 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Permission"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__role_Id_0
2025-01-26 13:42:28.069 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:42:28.069 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-01-26 13:42:28.069 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:42:28.069 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 13:42:28.147 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 13:42:28.151 +03:00 [DBG] No information found on request to perform content negotiation.
2025-01-26 13:42:28.151 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 13:42:28.151 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 13:42:28.152 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 13:42:28.153 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-26 13:42:28.184 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI) in 3523.987ms
2025-01-26 13:42:28.184 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 13:42:28.187 +03:00 [INF] HTTP POST /api/RoleManagegement/login responded 200 in 3936.8872 ms
2025-01-26 13:42:28.197 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 13:42:28.202 +03:00 [DBG] Connection ID "18374686493361831939" disconnecting.
2025-01-26 13:42:28.205 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:42:28.207 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (1ms).
2025-01-26 13:42:28.211 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/RoleManagegement/login - 200 null application/json; charset=utf-8 4107.9726ms
2025-01-26 13:43:20.211 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/Authors - application/json 63
2025-01-26 13:43:20.221 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 13:43:20.223 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 13:43:20.225 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:43:20.227 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 13:43:20.356 +03:00 [DBG] Successfully validated the token.
2025-01-26 13:43:20.361 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 13:43:20.395 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 13:43:20.396 +03:00 [INF] CORS policy execution successful.
2025-01-26 13:43:20.396 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:43:20.410 +03:00 [INF] Route matched with {action = "AddAuthor", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddAuthor(LibraryManagementDomain.Models.AuthorModel) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 13:43:20.410 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 13:43:20.411 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 13:43:20.411 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 13:43:20.411 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 13:43:20.411 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 13:43:20.413 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 13:43:20.484 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 13:43:20.486 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 13:43:20.487 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 13:43:20.488 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' using the name '' in request data ...
2025-01-26 13:43:20.488 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 13:43:20.501 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.AuthorModel'
2025-01-26 13:43:20.501 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:43:20.501 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:43:20.502 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 13:43:20.552 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:43:20.821 +03:00 [DBG] Creating DbConnection.
2025-01-26 13:43:20.821 +03:00 [DBG] Created DbConnection. (0ms).
2025-01-26 13:43:20.821 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:43:20.822 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:43:20.829 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-01-26 13:43:20.847 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-01-26 13:43:21.156 +03:00 [DBG] Rolling back transaction.
2025-01-26 13:43:21.171 +03:00 [DBG] Rolled back transaction.
2025-01-26 13:43:21.173 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:43:21.175 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (1ms).
2025-01-26 13:43:21.176 +03:00 [DBG] Disposing transaction.
2025-01-26 13:43:21.233 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI) in 821.48ms
2025-01-26 13:43:21.234 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:43:21.266 +03:00 [ERR] HTTP POST /api/Authors responded 500 in 1038.8008 ms
Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: Cannot perform runtime binding on a null reference
   at CallSite.Target(Closure, CallSite, Object, Object, CancellationToken)
   at System.Dynamic.UpdateDelegates.UpdateAndExecute3[T0,T1,T2,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2)
   at Shared.Helpers.Dispatcher.DispatchAsync(ICommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Shared\Helpers\Dispatcher.cs:line 24
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 43
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-01-26 13:43:21.431 +03:00 [ERR] An unhandled exception has occurred.
Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: Cannot perform runtime binding on a null reference
   at CallSite.Target(Closure, CallSite, Object, Object, CancellationToken)
   at System.Dynamic.UpdateDelegates.UpdateAndExecute3[T0,T1,T2,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2)
   at Shared.Helpers.Dispatcher.DispatchAsync(ICommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Shared\Helpers\Dispatcher.cs:line 24
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 43
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at LibraryManagementAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\ExceptionHandlingMiddleware.cs:line 24
2025-01-26 13:43:21.453 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 13:43:21.453 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:43:21.453 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 13:43:21.453 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/Authors - 500 null application/json; charset=utf-8 1247.247ms
2025-01-26 13:43:29.091 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/Authors - application/json 63
2025-01-26 13:43:29.091 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 13:43:29.091 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 13:43:29.092 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:43:29.092 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 13:43:29.099 +03:00 [DBG] Successfully validated the token.
2025-01-26 13:43:29.099 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 13:43:29.101 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 13:43:29.101 +03:00 [INF] CORS policy execution successful.
2025-01-26 13:43:29.101 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:43:29.103 +03:00 [INF] Route matched with {action = "AddAuthor", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddAuthor(LibraryManagementDomain.Models.AuthorModel) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 13:43:29.104 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 13:43:29.104 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 13:43:29.104 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 13:43:29.104 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 13:43:29.104 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 13:43:29.104 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 13:43:29.140 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 13:43:29.142 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 13:43:29.142 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 13:43:29.142 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' using the name '' in request data ...
2025-01-26 13:43:29.143 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 13:43:29.143 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.AuthorModel'
2025-01-26 13:43:29.144 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:43:29.144 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:43:29.144 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 13:43:29.147 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:43:29.150 +03:00 [DBG] Creating DbConnection.
2025-01-26 13:43:29.151 +03:00 [DBG] Created DbConnection. (0ms).
2025-01-26 13:43:29.151 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:43:29.151 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:43:29.154 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-01-26 13:43:29.154 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-01-26 13:43:29.337 +03:00 [DBG] Rolling back transaction.
2025-01-26 13:43:29.415 +03:00 [DBG] Rolled back transaction.
2025-01-26 13:43:29.415 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:43:29.416 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 13:43:29.416 +03:00 [DBG] Disposing transaction.
2025-01-26 13:43:29.575 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI) in 470.3459ms
2025-01-26 13:43:29.576 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:43:29.616 +03:00 [ERR] HTTP POST /api/Authors responded 500 in 523.9244 ms
Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: Cannot perform runtime binding on a null reference
   at CallSite.Target(Closure, CallSite, Object, Object, CancellationToken)
   at Shared.Helpers.Dispatcher.DispatchAsync(ICommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Shared\Helpers\Dispatcher.cs:line 24
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 43
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-01-26 13:43:29.668 +03:00 [ERR] An unhandled exception has occurred.
Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: Cannot perform runtime binding on a null reference
   at CallSite.Target(Closure, CallSite, Object, Object, CancellationToken)
   at Shared.Helpers.Dispatcher.DispatchAsync(ICommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Shared\Helpers\Dispatcher.cs:line 24
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 43
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at LibraryManagementAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\ExceptionHandlingMiddleware.cs:line 24
2025-01-26 13:43:29.673 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 13:43:29.673 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:43:29.674 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 13:43:29.674 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/Authors - 500 null application/json; charset=utf-8 583.274ms
2025-01-26 13:43:30.809 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/Authors - application/json 63
2025-01-26 13:43:30.809 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 13:43:30.809 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 13:43:30.809 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:43:30.810 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 13:43:30.811 +03:00 [DBG] Successfully validated the token.
2025-01-26 13:43:30.811 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 13:43:30.812 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 13:43:30.812 +03:00 [INF] CORS policy execution successful.
2025-01-26 13:43:30.812 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:43:30.812 +03:00 [INF] Route matched with {action = "AddAuthor", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddAuthor(LibraryManagementDomain.Models.AuthorModel) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 13:43:30.812 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 13:43:30.812 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 13:43:30.813 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 13:43:30.813 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 13:43:30.814 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 13:43:30.814 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 13:43:30.815 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 13:43:30.816 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 13:43:30.816 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 13:43:30.816 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' using the name '' in request data ...
2025-01-26 13:43:30.816 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 13:43:30.817 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.AuthorModel'
2025-01-26 13:43:30.817 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:43:30.817 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:43:30.817 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 13:43:30.819 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:43:30.842 +03:00 [DBG] Creating DbConnection.
2025-01-26 13:43:30.842 +03:00 [DBG] Created DbConnection. (0ms).
2025-01-26 13:43:30.842 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:43:30.842 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:43:30.842 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-01-26 13:43:30.843 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-01-26 13:43:30.992 +03:00 [DBG] Rolling back transaction.
2025-01-26 13:43:30.995 +03:00 [DBG] Rolled back transaction.
2025-01-26 13:43:30.995 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:43:30.995 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 13:43:30.995 +03:00 [DBG] Disposing transaction.
2025-01-26 13:43:31.079 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI) in 265.2467ms
2025-01-26 13:43:31.080 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:43:31.256 +03:00 [ERR] HTTP POST /api/Authors responded 500 in 445.0265 ms
Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: Cannot perform runtime binding on a null reference
   at CallSite.Target(Closure, CallSite, Object, Object, CancellationToken)
   at Shared.Helpers.Dispatcher.DispatchAsync(ICommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Shared\Helpers\Dispatcher.cs:line 24
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 43
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-01-26 13:43:31.282 +03:00 [ERR] An unhandled exception has occurred.
Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: Cannot perform runtime binding on a null reference
   at CallSite.Target(Closure, CallSite, Object, Object, CancellationToken)
   at Shared.Helpers.Dispatcher.DispatchAsync(ICommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Shared\Helpers\Dispatcher.cs:line 24
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 43
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at LibraryManagementAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\ExceptionHandlingMiddleware.cs:line 24
2025-01-26 13:43:31.285 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 13:43:31.285 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:43:31.285 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 13:43:31.285 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/Authors - 500 null application/json; charset=utf-8 476.2892ms
2025-01-26 13:43:32.049 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/Authors - application/json 63
2025-01-26 13:43:32.049 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 13:43:32.049 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 13:43:32.049 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:43:32.049 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 13:43:32.050 +03:00 [DBG] Successfully validated the token.
2025-01-26 13:43:32.050 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 13:43:32.051 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 13:43:32.051 +03:00 [INF] CORS policy execution successful.
2025-01-26 13:43:32.051 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:43:32.051 +03:00 [INF] Route matched with {action = "AddAuthor", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddAuthor(LibraryManagementDomain.Models.AuthorModel) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 13:43:32.051 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 13:43:32.051 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 13:43:32.051 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 13:43:32.052 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 13:43:32.052 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 13:43:32.052 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 13:43:32.053 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 13:43:32.053 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 13:43:32.054 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 13:43:32.054 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' using the name '' in request data ...
2025-01-26 13:43:32.054 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 13:43:32.054 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.AuthorModel'
2025-01-26 13:43:32.054 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:43:32.054 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:43:32.054 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 13:43:32.055 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:43:32.055 +03:00 [DBG] Creating DbConnection.
2025-01-26 13:43:32.055 +03:00 [DBG] Created DbConnection. (0ms).
2025-01-26 13:43:32.055 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:43:32.055 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:43:32.056 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-01-26 13:43:32.056 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-01-26 13:43:34.322 +03:00 [DBG] Rolling back transaction.
2025-01-26 13:43:34.327 +03:00 [DBG] Rolled back transaction.
2025-01-26 13:43:34.327 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:43:34.327 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 13:43:34.327 +03:00 [DBG] Disposing transaction.
2025-01-26 13:43:34.437 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI) in 2385.4376ms
2025-01-26 13:43:34.438 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:43:34.497 +03:00 [ERR] HTTP POST /api/Authors responded 500 in 2447.0655 ms
Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: Cannot perform runtime binding on a null reference
   at CallSite.Target(Closure, CallSite, Object, Object, CancellationToken)
   at Shared.Helpers.Dispatcher.DispatchAsync(ICommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Shared\Helpers\Dispatcher.cs:line 24
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 43
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-01-26 13:43:34.531 +03:00 [ERR] An unhandled exception has occurred.
Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: Cannot perform runtime binding on a null reference
   at CallSite.Target(Closure, CallSite, Object, Object, CancellationToken)
   at Shared.Helpers.Dispatcher.DispatchAsync(ICommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Shared\Helpers\Dispatcher.cs:line 24
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 43
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at LibraryManagementAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\ExceptionHandlingMiddleware.cs:line 24
2025-01-26 13:43:34.536 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 13:43:34.536 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:43:34.536 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 13:43:34.536 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/Authors - 500 null application/json; charset=utf-8 2487.4053ms
2025-01-26 13:43:34.539 +03:00 [DBG] Connection ID "18302628903618871303" disconnecting.
2025-01-26 13:43:44.379 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/Authors - application/json 64
2025-01-26 13:43:44.380 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 13:43:44.380 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 13:43:44.380 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:43:44.380 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 13:43:44.383 +03:00 [DBG] Successfully validated the token.
2025-01-26 13:43:44.383 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 13:43:44.385 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 13:43:44.385 +03:00 [INF] CORS policy execution successful.
2025-01-26 13:43:44.385 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:43:44.385 +03:00 [INF] Route matched with {action = "AddAuthor", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddAuthor(LibraryManagementDomain.Models.AuthorModel) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 13:43:44.385 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 13:43:44.385 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 13:43:44.386 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 13:43:44.386 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 13:43:44.386 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 13:43:44.386 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 13:43:44.390 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 13:43:44.391 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 13:43:44.391 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 13:43:44.391 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' using the name '' in request data ...
2025-01-26 13:43:44.391 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 13:43:44.392 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.AuthorModel'
2025-01-26 13:43:44.392 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:43:44.393 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:43:44.393 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 13:43:44.393 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:43:44.394 +03:00 [DBG] Creating DbConnection.
2025-01-26 13:43:44.394 +03:00 [DBG] Created DbConnection. (0ms).
2025-01-26 13:43:44.394 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:43:44.394 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:43:44.395 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-01-26 13:43:44.395 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-01-26 13:43:44.461 +03:00 [DBG] Rolling back transaction.
2025-01-26 13:43:44.464 +03:00 [DBG] Rolled back transaction.
2025-01-26 13:43:44.464 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:43:44.464 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 13:43:44.464 +03:00 [DBG] Disposing transaction.
2025-01-26 13:43:44.532 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI) in 145.9769ms
2025-01-26 13:43:44.533 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:43:44.606 +03:00 [ERR] HTTP POST /api/Authors responded 500 in 225.5439 ms
Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: Cannot perform runtime binding on a null reference
   at CallSite.Target(Closure, CallSite, Object, Object, CancellationToken)
   at Shared.Helpers.Dispatcher.DispatchAsync(ICommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Shared\Helpers\Dispatcher.cs:line 24
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 43
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-01-26 13:43:44.642 +03:00 [ERR] An unhandled exception has occurred.
Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: Cannot perform runtime binding on a null reference
   at CallSite.Target(Closure, CallSite, Object, Object, CancellationToken)
   at Shared.Helpers.Dispatcher.DispatchAsync(ICommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Shared\Helpers\Dispatcher.cs:line 24
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 43
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at LibraryManagementAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\ExceptionHandlingMiddleware.cs:line 24
2025-01-26 13:43:44.649 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 13:43:44.649 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:43:44.649 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 13:43:44.650 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/Authors - 500 null application/json; charset=utf-8 271.3928ms
2025-01-26 13:43:44.661 +03:00 [DBG] Connection ID "18302628903618871305" disconnecting.
2025-01-26 13:44:03.801 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/Authors - application/json 64
2025-01-26 13:44:03.802 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 13:44:03.802 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 13:44:03.802 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:44:03.803 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 13:44:03.806 +03:00 [DBG] Successfully validated the token.
2025-01-26 13:44:03.806 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 13:44:03.808 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 13:44:03.808 +03:00 [INF] CORS policy execution successful.
2025-01-26 13:44:03.809 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:44:03.810 +03:00 [INF] Route matched with {action = "AddAuthor", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddAuthor(LibraryManagementDomain.Models.AuthorModel) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 13:44:03.810 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 13:44:03.810 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 13:44:03.810 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 13:44:03.810 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 13:44:03.810 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 13:44:03.811 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 13:44:03.816 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 13:44:03.817 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 13:44:03.817 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 13:44:03.817 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' using the name '' in request data ...
2025-01-26 13:44:03.818 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 13:44:03.818 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.AuthorModel'
2025-01-26 13:44:03.818 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:44:03.818 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:44:03.819 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 13:44:03.819 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:44:16.002 +03:00 [DBG] Creating DbConnection.
2025-01-26 13:44:16.003 +03:00 [DBG] Created DbConnection. (0ms).
2025-01-26 13:44:16.004 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:44:16.006 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:44:16.007 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-01-26 13:44:16.008 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-01-26 13:44:59.008 +03:00 [DBG] Rolling back transaction.
2025-01-26 13:44:59.129 +03:00 [DBG] Rolled back transaction.
2025-01-26 13:44:59.130 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:44:59.137 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (6ms).
2025-01-26 13:44:59.138 +03:00 [DBG] Disposing transaction.
2025-01-26 13:45:00.681 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-01-26 13:45:00.850 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI) in 57036.1436ms
2025-01-26 13:45:00.863 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:45:00.943 +03:00 [ERR] HTTP POST /api/Authors responded 500 in 57137.8634 ms
Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: Cannot perform runtime binding on a null reference
   at CallSite.Target(Closure, CallSite, Object, Object, CancellationToken)
   at Shared.Helpers.Dispatcher.DispatchAsync(ICommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Shared\Helpers\Dispatcher.cs:line 24
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 43
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-01-26 13:45:04.265 +03:00 [ERR] An unhandled exception has occurred.
Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: Cannot perform runtime binding on a null reference
   at CallSite.Target(Closure, CallSite, Object, Object, CancellationToken)
   at Shared.Helpers.Dispatcher.DispatchAsync(ICommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Shared\Helpers\Dispatcher.cs:line 24
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 43
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at LibraryManagementAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\ExceptionHandlingMiddleware.cs:line 24
2025-01-26 13:45:05.165 +03:00 [DBG] Connection ID "18158513706953080834" disconnecting.
2025-01-26 13:45:05.948 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 13:45:05.949 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:45:05.949 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 13:45:06.422 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/Authors - 500 null application/json; charset=utf-8 62620.2455ms
2025-01-26 13:45:09.666 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/Authors - application/json 64
2025-01-26 13:45:09.671 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 13:45:09.671 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 13:45:09.672 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:45:18.012 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:45:18.012 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 13:45:18.017 +03:00 [DBG] Successfully validated the token.
2025-01-26 13:45:18.018 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 13:45:18.022 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 13:45:18.022 +03:00 [INF] CORS policy execution successful.
2025-01-26 13:45:18.022 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 1.2962ms - processed: 0 items - remaining: 1 items
2025-01-26 13:45:18.022 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:45:18.023 +03:00 [INF] Route matched with {action = "AddAuthor", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddAuthor(LibraryManagementDomain.Models.AuthorModel) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 13:45:18.024 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 13:45:18.025 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 13:45:18.025 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 13:45:18.025 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 13:45:18.025 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 13:45:18.026 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 13:45:18.036 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 13:45:18.045 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 13:45:18.046 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 13:45:18.046 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' using the name '' in request data ...
2025-01-26 13:45:18.047 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 13:45:18.048 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.AuthorModel'
2025-01-26 13:45:18.048 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:45:18.048 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:45:18.048 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 13:45:18.050 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:45:27.862 +03:00 [DBG] Creating DbConnection.
2025-01-26 13:45:27.862 +03:00 [DBG] Created DbConnection. (1ms).
2025-01-26 13:45:27.864 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:45:27.864 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:45:27.865 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-01-26 13:45:27.865 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-01-26 13:45:28.579 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:45:28.579 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0102ms - processed: 0 items - remaining: 1 items
2025-01-26 13:47:04.290 +03:00 [DBG] Rolling back transaction.
2025-01-26 13:47:04.340 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:47:04.340 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0271ms - processed: 0 items - remaining: 1 items
2025-01-26 13:47:04.342 +03:00 [DBG] Rolled back transaction.
2025-01-26 13:47:04.343 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:47:04.349 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (5ms).
2025-01-26 13:47:04.350 +03:00 [DBG] Disposing transaction.
2025-01-26 13:47:04.474 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI) in 106446.5905ms
2025-01-26 13:47:04.480 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:47:04.501 +03:00 [ERR] HTTP POST /api/Authors responded 500 in 106487.0888 ms
Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: Cannot perform runtime binding on a null reference
   at CallSite.Target(Closure, CallSite, Object, Object, CancellationToken)
   at Shared.Helpers.Dispatcher.DispatchAsync(ICommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Shared\Helpers\Dispatcher.cs:line 24
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 43
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-01-26 13:47:04.540 +03:00 [ERR] An unhandled exception has occurred.
Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: Cannot perform runtime binding on a null reference
   at CallSite.Target(Closure, CallSite, Object, Object, CancellationToken)
   at Shared.Helpers.Dispatcher.DispatchAsync(ICommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Shared\Helpers\Dispatcher.cs:line 24
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 43
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at LibraryManagementAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\ExceptionHandlingMiddleware.cs:line 24
2025-01-26 13:47:04.573 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 13:47:04.573 +03:00 [DBG] Connection ID "18374686497656799237" disconnecting.
2025-01-26 13:47:04.574 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:47:04.576 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (1ms).
2025-01-26 13:47:04.578 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/Authors - 500 null application/json; charset=utf-8 114911.4265ms
2025-01-26 13:47:14.341 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:47:14.342 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0192ms - processed: 0 items - remaining: 1 items
2025-01-26 13:47:18.627 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-01-26 13:47:24.350 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 13:47:24.350 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0098ms - processed: 0 items - remaining: 2 items
2025-01-26 13:47:34.352 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 13:47:34.352 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0316ms - processed: 0 items - remaining: 2 items
2025-01-26 13:47:44.353 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 13:47:44.366 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 12.7723ms - processed: 1 items - remaining: 1 items
2025-01-26 13:47:54.331 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/index.html - null null
2025-01-26 13:47:54.357 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:47:54.357 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 1 items
2025-01-26 13:47:54.563 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-01-26 13:47:54.564 +03:00 [DBG] Request did not match any endpoints
2025-01-26 13:47:54.585 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-01-26 13:47:54.585 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-01-26 13:47:54.598 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-01-26 13:47:54.599 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-01-26 13:47:54.599 +03:00 [DBG] Connection ID "18374686484771897359" disconnecting.
2025-01-26 13:47:54.599 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/index.html - 200 null text/html;charset=utf-8 274.6288ms
2025-01-26 13:47:56.364 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - null null
2025-01-26 13:47:56.373 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_vs/browserLink - null null
2025-01-26 13:47:56.377 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 12.1662ms
2025-01-26 13:47:56.448 +03:00 [DBG] Connection ID "18302628903618871309" disconnecting.
2025-01-26 13:47:56.451 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.2212ms
2025-01-26 13:47:57.595 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - null null
2025-01-26 13:47:57.596 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-01-26 13:47:57.596 +03:00 [DBG] Request did not match any endpoints
2025-01-26 13:47:57.692 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 96.7207ms
2025-01-26 13:47:57.699 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/favicon-32x32.png - null null
2025-01-26 13:47:57.699 +03:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2025-01-26 13:47:57.699 +03:00 [DBG] Request did not match any endpoints
2025-01-26 13:47:57.776 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-01-26 13:47:57.777 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/favicon-32x32.png - 200 628 image/png 77.9181ms
2025-01-26 13:48:04.372 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:48:04.373 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0126ms - processed: 0 items - remaining: 1 items
2025-01-26 13:48:14.373 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:48:14.373 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 1 items
2025-01-26 13:48:18.197 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/RoleManagegement/login - application/json 39
2025-01-26 13:48:18.199 +03:00 [DBG] 1 candidate(s) found for the request path '/api/RoleManagegement/login'
2025-01-26 13:48:18.199 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)' with route pattern 'api/RoleManagegement/login' is valid for the request path '/api/RoleManagegement/login'
2025-01-26 13:48:18.200 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 13:48:18.200 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 13:48:18.205 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-26 13:48:18.207 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 13:48:18.207 +03:00 [INF] CORS policy execution successful.
2025-01-26 13:48:18.208 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 13:48:18.229 +03:00 [INF] Route matched with {action = "Login", controller = "RoleManagegement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LibraryManagementDomain.Models.LoginModel) on controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI).
2025-01-26 13:48:18.229 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-26 13:48:18.229 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 13:48:18.229 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 13:48:18.230 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 13:48:18.230 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 13:48:18.230 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI)
2025-01-26 13:48:18.249 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 13:48:18.253 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI)
2025-01-26 13:48:18.255 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' ...
2025-01-26 13:48:18.256 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' using the name '' in request data ...
2025-01-26 13:48:18.257 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 13:48:18.266 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.LoginModel'
2025-01-26 13:48:18.266 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 13:48:18.266 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 13:48:18.267 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' ...
2025-01-26 13:48:18.270 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 13:48:18.285 +03:00 [DBG] Creating DbConnection.
2025-01-26 13:48:18.286 +03:00 [DBG] Created DbConnection. (0ms).
2025-01-26 13:48:18.287 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:48:18.290 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:48:18.292 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 13:48:18.294 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-26 13:48:18.296 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-26 13:48:18.297 +03:00 [DBG] Executing DbCommand [Parameters=[@__model_Id_0='12'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."PasswordHash", u."RoleId"
FROM "Users" AS u
WHERE u."Id" = @__model_Id_0
LIMIT 1
2025-01-26 13:48:18.382 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@__model_Id_0='12'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."PasswordHash", u."RoleId"
FROM "Users" AS u
WHERE u."Id" = @__model_Id_0
LIMIT 1
2025-01-26 13:48:18.388 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'User' entity with key '{Id: 12}'.
2025-01-26 13:48:18.390 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:48:18.391 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 8ms reading results.
2025-01-26 13:48:18.391 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:48:18.393 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (1ms).
2025-01-26 13:48:18.644 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:48:18.645 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:48:18.645 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 13:48:18.645 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 13:48:18.645 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 13:48:18.645 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_RoleId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Id" = @__user_RoleId_0
LIMIT 1
2025-01-26 13:48:18.652 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_RoleId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Id" = @__user_RoleId_0
LIMIT 1
2025-01-26 13:48:18.652 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Role' entity with key '{Id: 3}'.
2025-01-26 13:48:18.653 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:48:18.653 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-01-26 13:48:18.653 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:48:18.653 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 13:48:18.656 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:48:18.656 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:48:18.656 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 13:48:18.657 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 13:48:18.657 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 13:48:18.657 +03:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Permission"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__role_Id_0
2025-01-26 13:48:18.664 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Permission"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__role_Id_0
2025-01-26 13:48:18.664 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:48:18.664 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-01-26 13:48:18.664 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:48:18.664 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 13:48:18.673 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 13:48:18.673 +03:00 [DBG] No information found on request to perform content negotiation.
2025-01-26 13:48:18.673 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 13:48:18.673 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 13:48:18.674 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 13:48:18.674 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-26 13:48:18.679 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI) in 449.2134ms
2025-01-26 13:48:18.679 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 13:48:18.679 +03:00 [INF] HTTP POST /api/RoleManagegement/login responded 200 in 479.3803 ms
2025-01-26 13:48:18.680 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 13:48:18.680 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:48:18.680 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 13:48:18.681 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/RoleManagegement/login - 200 null application/json; charset=utf-8 484.019ms
2025-01-26 13:48:18.681 +03:00 [DBG] Connection ID "18374686501951766541" disconnecting.
2025-01-26 13:48:24.388 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:48:24.389 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0163ms - processed: 0 items - remaining: 1 items
2025-01-26 13:48:34.395 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:48:34.396 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0311ms - processed: 0 items - remaining: 1 items
2025-01-26 13:48:44.395 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:48:44.465 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0124ms - processed: 0 items - remaining: 1 items
2025-01-26 13:48:48.388 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/Authors - application/json 61
2025-01-26 13:48:48.434 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 13:48:48.434 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 13:48:48.434 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:48:48.434 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 13:48:49.648 +03:00 [DBG] Successfully validated the token.
2025-01-26 13:48:49.804 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 13:48:49.806 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 13:48:49.806 +03:00 [INF] CORS policy execution successful.
2025-01-26 13:48:49.806 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 13:48:49.938 +03:00 [INF] Route matched with {action = "AddAuthor", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddAuthor(LibraryManagementDomain.Models.AuthorModel) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 13:48:50.018 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 13:48:50.019 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 13:48:50.105 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 13:48:50.105 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 13:48:50.105 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 13:48:50.192 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 13:48:50.239 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 13:48:50.240 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 13:48:50.240 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 13:48:50.240 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' using the name '' in request data ...
2025-01-26 13:48:50.240 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 13:48:50.365 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.AuthorModel'
2025-01-26 13:48:50.366 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:48:50.366 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:48:50.367 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 13:48:50.387 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 13:48:56.623 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 13:48:56.625 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0105ms - processed: 0 items - remaining: 1 items
2025-01-26 13:49:01.164 +03:00 [DBG] Creating DbConnection.
2025-01-26 13:49:01.166 +03:00 [DBG] Created DbConnection. (1ms).
2025-01-26 13:49:01.166 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:49:01.167 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 13:49:01.169 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-01-26 13:49:01.170 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-01-26 14:06:32.066 +03:00 [DBG] Initializing Razor view compiler with no compiled views.
2025-01-26 14:06:32.158 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-01-26 14:06:32.347 +03:00 [DBG] Hosting starting
2025-01-26 14:06:32.424 +03:00 [INF] User profile is available. Using 'C:\Users\rashe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-26 14:06:32.455 +03:00 [DBG] Reading data from file 'C:\Users\rashe\AppData\Local\ASP.NET\DataProtection-Keys\key-34f2e68a-4570-439a-8454-209f4db72d73.xml'.
2025-01-26 14:06:32.502 +03:00 [DBG] Found key {34f2e68a-4570-439a-8454-209f4db72d73}.
2025-01-26 14:06:32.519 +03:00 [DBG] Considering key {34f2e68a-4570-439a-8454-209f4db72d73} with expiration date 2025-04-13 07:54:25Z as default key.
2025-01-26 14:06:32.524 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-01-26 14:06:32.525 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-01-26 14:06:32.528 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-01-26 14:06:32.537 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-01-26 14:06:32.539 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-01-26 14:06:32.540 +03:00 [DBG] Using key {34f2e68a-4570-439a-8454-209f4db72d73} as the default key.
2025-01-26 14:06:32.541 +03:00 [DBG] Key ring with default key {34f2e68a-4570-439a-8454-209f4db72d73} was loaded during application startup.
2025-01-26 14:06:33.439 +03:00 [DBG] Loaded hosting startup assembly LibraryManagementAPI
2025-01-26 14:06:33.444 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-01-26 14:06:33.445 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-01-26 14:06:33.445 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-01-26 14:06:33.549 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/index.html - null null
2025-01-26 14:06:33.636 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-26 14:06:33.636 +03:00 [INF] Hosting environment: Development
2025-01-26 14:06:33.636 +03:00 [INF] Content root path: C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library
2025-01-26 14:06:33.636 +03:00 [DBG] Hosting started
2025-01-26 14:06:33.751 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-01-26 14:06:33.784 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-01-26 14:06:33.784 +03:00 [DBG] Request did not match any endpoints
2025-01-26 14:06:33.875 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-01-26 14:06:33.878 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-01-26 14:06:33.940 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-01-26 14:06:33.941 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-01-26 14:06:33.955 +03:00 [DBG] Connection ID "18374686527721570309" disconnecting.
2025-01-26 14:06:33.958 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/index.html - 200 null text/html;charset=utf-8 419.3739ms
2025-01-26 14:06:35.215 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - null null
2025-01-26 14:06:35.215 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_vs/browserLink - null null
2025-01-26 14:06:35.225 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 6.0205ms
2025-01-26 14:06:35.230 +03:00 [DBG] Connection ID "18374686527721570311" disconnecting.
2025-01-26 14:06:35.284 +03:00 [DBG] Connection ID "18302628916503773189" disconnecting.
2025-01-26 14:06:35.286 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.2338ms
2025-01-26 14:06:35.861 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - null null
2025-01-26 14:06:35.862 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-01-26 14:06:35.862 +03:00 [DBG] Request did not match any endpoints
2025-01-26 14:06:35.908 +03:00 [DBG] Connection ID "18374686527721570313" disconnecting.
2025-01-26 14:06:35.908 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 46.3356ms
2025-01-26 14:07:15.620 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/RoleManagegement/login - application/json 39
2025-01-26 14:07:15.668 +03:00 [DBG] 1 candidate(s) found for the request path '/api/RoleManagegement/login'
2025-01-26 14:07:15.672 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)' with route pattern 'api/RoleManagegement/login' is valid for the request path '/api/RoleManagegement/login'
2025-01-26 14:07:15.674 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 14:07:15.680 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 14:07:15.831 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-26 14:07:15.835 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 14:07:15.835 +03:00 [INF] CORS policy execution successful.
2025-01-26 14:07:15.837 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 14:07:15.886 +03:00 [INF] Route matched with {action = "Login", controller = "RoleManagegement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LibraryManagementDomain.Models.LoginModel) on controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI).
2025-01-26 14:07:15.888 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-26 14:07:15.888 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 14:07:15.889 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 14:07:15.889 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 14:07:15.890 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 14:07:15.895 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI)
2025-01-26 14:07:16.192 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-01-26 14:07:16.774 +03:00 [DBG] The index {'CourseId'} was not created on entity type 'StudentCourse (Dictionary<string, object>)' as the properties are already covered by the index {'CourseId', 'StudentId'}.
2025-01-26 14:07:16.915 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-01-26 14:07:17.040 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 14:07:17.050 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI)
2025-01-26 14:07:17.054 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' ...
2025-01-26 14:07:17.056 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' using the name '' in request data ...
2025-01-26 14:07:17.057 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 14:07:17.081 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.LoginModel'
2025-01-26 14:07:17.081 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 14:07:17.081 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 14:07:17.082 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' ...
2025-01-26 14:07:17.117 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 14:07:17.222 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __model_Id_0)'
2025-01-26 14:07:17.464 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string) Required, 1], [Property: User.RoleId (int) Required, 2] }
            SELECT TOP(1) u.Id, u.PasswordHash, u.RoleId
            FROM Users AS u
            WHERE u.Id == @__model_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string) Required, 1], [Property: User.RoleId (int) Required, 2] }
            SELECT TOP(1) u.Id, u.PasswordHash, u.RoleId
            FROM Users AS u
            WHERE u.Id == @__model_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(1);
                                    instance.<RoleId>k__BackingField = dataReader.GetInt32(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: LibraryManagementInfrastructure.LibraryDBContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-26 14:07:17.512 +03:00 [DBG] Creating DbConnection.
2025-01-26 14:07:17.591 +03:00 [DBG] Created DbConnection. (81ms).
2025-01-26 14:07:17.600 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:07:17.968 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:07:17.972 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 14:07:17.983 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-01-26 14:07:17.989 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-01-26 14:07:17.998 +03:00 [DBG] Executing DbCommand [Parameters=[@__model_Id_0='12'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."PasswordHash", u."RoleId"
FROM "Users" AS u
WHERE u."Id" = @__model_Id_0
LIMIT 1
2025-01-26 14:07:18.081 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@__model_Id_0='12'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."PasswordHash", u."RoleId"
FROM "Users" AS u
WHERE u."Id" = @__model_Id_0
LIMIT 1
2025-01-26 14:07:18.116 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'User' entity with key '{Id: 12}'.
2025-01-26 14:07:18.138 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:07:18.147 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 59ms reading results.
2025-01-26 14:07:18.151 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:07:18.154 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (3ms).
2025-01-26 14:07:18.440 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.Id == __user_RoleId_0)'
2025-01-26 14:07:18.448 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Role>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required, 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Roles AS r
            WHERE r.Id == @__user_RoleId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required, 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Roles AS r
            WHERE r.Id == @__user_RoleId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Role entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Role instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Role);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Role.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Role)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")]: 
                            {
                                return 
                                {
                                    Role instance;
                                    instance = new Role();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Name>k__BackingField = dataReader.GetString(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Role)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: LibraryManagementInfrastructure.LibraryDBContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-26 14:07:18.454 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:07:18.454 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:07:18.454 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 14:07:18.454 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 14:07:18.454 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 14:07:18.455 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_RoleId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Id" = @__user_RoleId_0
LIMIT 1
2025-01-26 14:07:18.465 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_RoleId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Id" = @__user_RoleId_0
LIMIT 1
2025-01-26 14:07:18.471 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Role' entity with key '{Id: 3}'.
2025-01-26 14:07:18.477 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:07:18.477 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 12ms reading results.
2025-01-26 14:07:18.477 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:07:18.478 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 14:07:18.483 +03:00 [DBG] Compiling query expression: 
'DbSet<RolePermission>()
    .Where(rp => rp.RoleId == __role_Id_0)
    .Select(rp => rp.Permission)'
2025-01-26 14:07:18.489 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT r.Permission
        FROM RolePermissions AS r
        WHERE r.RoleId == @__role_Id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT r.Permission
        FROM RolePermissions AS r
        WHERE r.RoleId == @__role_Id_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.GetString(0);
        return value1;
    }, 
    contextType: LibraryManagementInfrastructure.LibraryDBContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-01-26 14:07:18.490 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:07:18.490 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:07:18.490 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 14:07:18.490 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 14:07:18.490 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 14:07:18.490 +03:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Permission"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__role_Id_0
2025-01-26 14:07:18.497 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Permission"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__role_Id_0
2025-01-26 14:07:18.498 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:07:18.498 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-01-26 14:07:18.498 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:07:18.498 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 14:07:18.568 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 14:07:18.570 +03:00 [DBG] No information found on request to perform content negotiation.
2025-01-26 14:07:18.570 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 14:07:18.570 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 14:07:18.570 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 14:07:18.571 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-26 14:07:18.584 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI) in 2690.6533ms
2025-01-26 14:07:18.584 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 14:07:18.587 +03:00 [INF] HTTP POST /api/RoleManagegement/login responded 200 in 2904.7431 ms
2025-01-26 14:07:18.597 +03:00 [DBG] Connection ID "18302628920798740488" disconnecting.
2025-01-26 14:07:18.599 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 14:07:18.601 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:07:18.603 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (1ms).
2025-01-26 14:07:18.605 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/RoleManagegement/login - 200 null application/json; charset=utf-8 2988.3853ms
2025-01-26 14:07:52.810 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/Authors - application/json 64
2025-01-26 14:07:52.812 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 14:07:52.814 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 14:07:52.816 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 14:07:52.816 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 14:07:52.883 +03:00 [DBG] Successfully validated the token.
2025-01-26 14:07:52.884 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 14:07:52.907 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 14:07:52.907 +03:00 [INF] CORS policy execution successful.
2025-01-26 14:07:52.908 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 14:07:52.915 +03:00 [INF] Route matched with {action = "AddAuthor", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddAuthor(LibraryManagementDomain.Models.AuthorModel) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 14:07:52.915 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 14:07:52.916 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 14:07:52.916 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 14:07:52.916 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 14:07:52.916 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 14:07:52.918 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 14:07:52.981 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 14:07:52.983 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 14:07:52.983 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 14:07:52.984 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' using the name '' in request data ...
2025-01-26 14:07:52.984 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 14:07:52.995 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.AuthorModel'
2025-01-26 14:07:52.995 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 14:07:52.995 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 14:07:52.995 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 14:07:53.039 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 14:07:53.354 +03:00 [DBG] Creating DbConnection.
2025-01-26 14:07:53.354 +03:00 [DBG] Created DbConnection. (0ms).
2025-01-26 14:07:53.354 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:07:53.354 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:07:53.357 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-01-26 14:07:53.368 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-01-26 14:07:53.795 +03:00 [DBG] Rolling back transaction.
2025-01-26 14:07:53.803 +03:00 [DBG] Rolled back transaction.
2025-01-26 14:07:53.805 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:07:53.806 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 14:07:53.809 +03:00 [DBG] Disposing transaction.
2025-01-26 14:07:53.932 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI) in 1016.4765ms
2025-01-26 14:07:53.934 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 14:07:53.967 +03:00 [ERR] HTTP POST /api/Authors responded 500 in 1150.8175 ms
System.ApplicationException: Error adding author: The method or operation is not implemented.
 ---> System.NotImplementedException: The method or operation is not implemented.
   at Persistence.Repository.Repository`1.AnyAsync(Expression`1 predicate) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Persistence\Repository.cs:line 69
   at AddAuthorCommand.AddAuthorCommandHandler.Handle(AddAuthorCommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Commands\Authors\AddAuthorCommand.cs:line 29
   at System.Dynamic.UpdateDelegates.UpdateAndExecuteVoid1[T0](CallSite site, T0 arg0)
   at Shared.Helpers.Dispatcher.DispatchAsync[TCommand](TCommand command, CancellationToken cancellationToken)
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 37
   --- End of inner exception stack trace ---
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 59
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-01-26 14:07:54.141 +03:00 [ERR] An unhandled exception has occurred.
System.ApplicationException: Error adding author: The method or operation is not implemented.
 ---> System.NotImplementedException: The method or operation is not implemented.
   at Persistence.Repository.Repository`1.AnyAsync(Expression`1 predicate) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Persistence\Repository.cs:line 69
   at AddAuthorCommand.AddAuthorCommandHandler.Handle(AddAuthorCommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Commands\Authors\AddAuthorCommand.cs:line 29
   at System.Dynamic.UpdateDelegates.UpdateAndExecuteVoid1[T0](CallSite site, T0 arg0)
   at Shared.Helpers.Dispatcher.DispatchAsync[TCommand](TCommand command, CancellationToken cancellationToken)
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 37
   --- End of inner exception stack trace ---
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 59
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at LibraryManagementAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\ExceptionHandlingMiddleware.cs:line 24
2025-01-26 14:07:54.169 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 14:07:54.169 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:07:54.169 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 14:07:54.169 +03:00 [DBG] Connection ID "18302628933683642378" disconnecting.
2025-01-26 14:07:54.169 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/Authors - 500 null application/json; charset=utf-8 1359.79ms
2025-01-26 14:08:21.772 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/Authors - application/json 64
2025-01-26 14:08:21.773 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 14:08:21.774 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 14:08:21.774 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 14:08:21.775 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 14:08:21.784 +03:00 [DBG] Successfully validated the token.
2025-01-26 14:08:21.785 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 14:08:21.788 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 14:08:21.788 +03:00 [INF] CORS policy execution successful.
2025-01-26 14:08:21.788 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 14:08:21.790 +03:00 [INF] Route matched with {action = "AddAuthor", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddAuthor(LibraryManagementDomain.Models.AuthorModel) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 14:08:21.791 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 14:08:21.791 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 14:08:21.791 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 14:08:21.791 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 14:08:21.791 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 14:08:21.792 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 14:08:21.814 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 14:08:21.815 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 14:08:21.815 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 14:08:21.815 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' using the name '' in request data ...
2025-01-26 14:08:21.815 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 14:08:21.815 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.AuthorModel'
2025-01-26 14:08:21.816 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 14:08:21.816 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 14:08:21.816 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 14:08:21.831 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 14:08:21.834 +03:00 [DBG] Creating DbConnection.
2025-01-26 14:08:21.835 +03:00 [DBG] Created DbConnection. (0ms).
2025-01-26 14:08:21.835 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:08:21.835 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:08:21.835 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-01-26 14:08:21.835 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-01-26 14:08:21.927 +03:00 [DBG] Rolling back transaction.
2025-01-26 14:08:21.930 +03:00 [DBG] Rolled back transaction.
2025-01-26 14:08:21.930 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:08:21.930 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 14:08:21.930 +03:00 [DBG] Disposing transaction.
2025-01-26 14:08:21.989 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI) in 197.295ms
2025-01-26 14:08:21.990 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 14:08:22.012 +03:00 [ERR] HTTP POST /api/Authors responded 500 in 237.0269 ms
System.ApplicationException: Error adding author: The method or operation is not implemented.
 ---> System.NotImplementedException: The method or operation is not implemented.
   at Persistence.Repository.Repository`1.AnyAsync(Expression`1 predicate) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Persistence\Repository.cs:line 69
   at AddAuthorCommand.AddAuthorCommandHandler.Handle(AddAuthorCommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Commands\Authors\AddAuthorCommand.cs:line 29
   at Shared.Helpers.Dispatcher.DispatchAsync[TCommand](TCommand command, CancellationToken cancellationToken)
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 37
   --- End of inner exception stack trace ---
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 59
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-01-26 14:08:22.031 +03:00 [ERR] An unhandled exception has occurred.
System.ApplicationException: Error adding author: The method or operation is not implemented.
 ---> System.NotImplementedException: The method or operation is not implemented.
   at Persistence.Repository.Repository`1.AnyAsync(Expression`1 predicate) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Persistence\Repository.cs:line 69
   at AddAuthorCommand.AddAuthorCommandHandler.Handle(AddAuthorCommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Commands\Authors\AddAuthorCommand.cs:line 29
   at Shared.Helpers.Dispatcher.DispatchAsync[TCommand](TCommand command, CancellationToken cancellationToken)
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 37
   --- End of inner exception stack trace ---
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 59
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at LibraryManagementAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\ExceptionHandlingMiddleware.cs:line 24
2025-01-26 14:08:22.034 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 14:08:22.034 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:08:22.034 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 14:08:22.035 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/Authors - 500 null application/json; charset=utf-8 264.0639ms
2025-01-26 14:08:22.035 +03:00 [DBG] Connection ID "18302628912208805893" disconnecting.
2025-01-26 14:08:45.846 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/Authors - application/json 64
2025-01-26 14:08:45.847 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 14:08:45.847 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 14:08:45.847 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 14:08:45.847 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 14:08:45.847 +03:00 [DBG] Successfully validated the token.
2025-01-26 14:08:45.847 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 14:08:45.848 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 14:08:45.848 +03:00 [INF] CORS policy execution successful.
2025-01-26 14:08:45.848 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 14:08:45.848 +03:00 [INF] Route matched with {action = "AddAuthor", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddAuthor(LibraryManagementDomain.Models.AuthorModel) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 14:08:45.848 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 14:08:45.848 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 14:08:45.848 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 14:08:45.848 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 14:08:45.849 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 14:08:45.849 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 14:08:45.850 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 14:08:45.851 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 14:08:45.851 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 14:08:45.851 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' using the name '' in request data ...
2025-01-26 14:08:45.851 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 14:08:45.852 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.AuthorModel'
2025-01-26 14:08:45.852 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 14:08:45.852 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 14:08:45.852 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 14:08:45.855 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 14:08:45.873 +03:00 [DBG] Creating DbConnection.
2025-01-26 14:08:45.873 +03:00 [DBG] Created DbConnection. (0ms).
2025-01-26 14:08:45.873 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:08:45.873 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:08:45.873 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-01-26 14:08:45.874 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-01-26 14:09:08.965 +03:00 [DBG] Rolling back transaction.
2025-01-26 14:09:08.976 +03:00 [DBG] Rolled back transaction.
2025-01-26 14:09:08.976 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:09:08.977 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 14:09:08.977 +03:00 [DBG] Disposing transaction.
2025-01-26 14:09:15.746 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI) in 29897.4205ms
2025-01-26 14:09:15.760 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 14:09:15.924 +03:00 [ERR] HTTP POST /api/Authors responded 500 in 30076.7619 ms
System.ApplicationException: Error adding author: The method or operation is not implemented.
 ---> System.NotImplementedException: The method or operation is not implemented.
   at Persistence.Repository.Repository`1.AnyAsync(Expression`1 predicate) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Persistence\Repository.cs:line 69
   at AddAuthorCommand.AddAuthorCommandHandler.Handle(AddAuthorCommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Commands\Authors\AddAuthorCommand.cs:line 29
   at Shared.Helpers.Dispatcher.DispatchAsync[TCommand](TCommand command, CancellationToken cancellationToken)
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 37
   --- End of inner exception stack trace ---
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 59
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-01-26 14:09:28.564 +03:00 [ERR] An unhandled exception has occurred.
System.ApplicationException: Error adding author: The method or operation is not implemented.
 ---> System.NotImplementedException: The method or operation is not implemented.
   at Persistence.Repository.Repository`1.AnyAsync(Expression`1 predicate) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Persistence\Repository.cs:line 69
   at AddAuthorCommand.AddAuthorCommandHandler.Handle(AddAuthorCommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Commands\Authors\AddAuthorCommand.cs:line 29
   at Shared.Helpers.Dispatcher.DispatchAsync[TCommand](TCommand command, CancellationToken cancellationToken)
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 37
   --- End of inner exception stack trace ---
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 59
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at LibraryManagementAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\ExceptionHandlingMiddleware.cs:line 24
2025-01-26 14:09:29.033 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-01-26 14:09:30.035 +03:00 [DBG] Connection ID "18302628903618871311" disconnecting.
2025-01-26 14:09:32.816 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 14:09:32.820 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:09:32.821 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (1ms).
2025-01-26 14:09:33.071 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/Authors - 500 null application/json; charset=utf-8 47222.4504ms
2025-01-26 14:09:39.045 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 14:09:39.051 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1456ms - processed: 0 items - remaining: 1 items
2025-01-26 14:09:49.055 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 14:09:49.055 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0107ms - processed: 0 items - remaining: 1 items
2025-01-26 14:09:52.914 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/Authors - application/json 64
2025-01-26 14:09:52.922 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 14:09:52.923 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 14:09:52.924 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 14:09:59.749 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 14:09:59.749 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 1 items
2025-01-26 14:10:02.216 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 14:10:02.323 +03:00 [DBG] Successfully validated the token.
2025-01-26 14:10:02.326 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 14:10:02.361 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 14:10:02.361 +03:00 [INF] CORS policy execution successful.
2025-01-26 14:10:02.367 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 14:10:02.387 +03:00 [INF] Route matched with {action = "AddAuthor", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddAuthor(LibraryManagementDomain.Models.AuthorModel) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 14:10:02.402 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 14:10:02.403 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 14:10:02.410 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 14:10:02.411 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 14:10:02.412 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 14:10:02.416 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 14:10:02.545 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 14:10:02.573 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 14:10:02.589 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 14:10:02.593 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' using the name '' in request data ...
2025-01-26 14:10:02.594 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 14:10:02.614 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.AuthorModel'
2025-01-26 14:10:02.615 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 14:10:02.615 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 14:10:02.619 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 14:10:02.670 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 14:10:05.383 +03:00 [DBG] Creating DbConnection.
2025-01-26 14:10:05.386 +03:00 [DBG] Created DbConnection. (5ms).
2025-01-26 14:10:05.387 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:10:05.393 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:10:05.398 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-01-26 14:10:05.403 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-01-26 14:10:44.165 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 14:10:44.166 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0318ms - processed: 0 items - remaining: 1 items
2025-01-26 14:10:54.978 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 14:10:54.979 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.3216ms - processed: 0 items - remaining: 1 items
2025-01-26 14:11:43.931 +03:00 [DBG] Rolling back transaction.
2025-01-26 14:11:43.893 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 14:11:43.938 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0131ms - processed: 0 items - remaining: 1 items
2025-01-26 14:11:44.011 +03:00 [DBG] Rolled back transaction.
2025-01-26 14:11:44.014 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:11:44.017 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (4ms).
2025-01-26 14:11:44.018 +03:00 [DBG] Disposing transaction.
2025-01-26 14:11:45.452 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI) in 103039.5154ms
2025-01-26 14:11:45.465 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 14:11:45.538 +03:00 [ERR] HTTP POST /api/Authors responded 500 in 103318.0291 ms
System.ApplicationException: Error adding author: The method or operation is not implemented.
 ---> System.NotImplementedException: The method or operation is not implemented.
   at Persistence.Repository.Repository`1.AnyAsync(Expression`1 predicate) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Persistence\Repository.cs:line 69
   at AddAuthorCommand.AddAuthorCommandHandler.Handle(AddAuthorCommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Commands\Authors\AddAuthorCommand.cs:line 29
   at Shared.Helpers.Dispatcher.DispatchAsync[TCommand](TCommand command, CancellationToken cancellationToken)
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 37
   --- End of inner exception stack trace ---
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 59
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-01-26 14:12:10.959 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 14:12:12.343 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 2.4185ms - processed: 0 items - remaining: 1 items
2025-01-26 14:12:12.397 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-01-26 14:12:12.389 +03:00 [ERR] An unhandled exception has occurred.
System.ApplicationException: Error adding author: The method or operation is not implemented.
 ---> System.NotImplementedException: The method or operation is not implemented.
   at Persistence.Repository.Repository`1.AnyAsync(Expression`1 predicate) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Persistence\Repository.cs:line 69
   at AddAuthorCommand.AddAuthorCommandHandler.Handle(AddAuthorCommand command, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Commands\Authors\AddAuthorCommand.cs:line 29
   at Shared.Helpers.Dispatcher.DispatchAsync[TCommand](TCommand command, CancellationToken cancellationToken)
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 37
   --- End of inner exception stack trace ---
   at AddAuthorRequest.AddAuthorRequestHandler.Handle(AddAuthorRequest request, CancellationToken cancellationToken) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\RequestHandler\Author\AddAuthorRequest.cs:line 59
   at LibraryManagementAPI.Controllers.AuthorsController.AddAuthor(AuthorModel model) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 118
   at lambda_method70(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at LibraryManagementAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\ExceptionHandlingMiddleware.cs:line 24
2025-01-26 14:12:17.958 +03:00 [DBG] Connection ID "18158513706953080840" disconnecting.
2025-01-26 14:12:18.341 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 14:12:18.346 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:12:18.348 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (2ms).
2025-01-26 14:12:18.708 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/Authors - 500 null application/json; charset=utf-8 145796.6371ms
2025-01-26 14:12:22.348 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:12:22.348 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 2 items
2025-01-26 14:12:32.356 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:12:32.358 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 1.1897ms - processed: 0 items - remaining: 2 items
2025-01-26 14:12:42.367 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:12:42.367 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0089ms - processed: 0 items - remaining: 2 items
2025-01-26 14:12:52.378 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:12:52.379 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 2 items
2025-01-26 14:13:02.391 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:13:02.391 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.029ms - processed: 0 items - remaining: 2 items
2025-01-26 14:13:12.404 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:13:12.405 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 2 items
2025-01-26 14:13:22.417 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:13:22.417 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.2032ms - processed: 0 items - remaining: 2 items
2025-01-26 14:13:32.421 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:13:32.466 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 44.7361ms - processed: 0 items - remaining: 2 items
2025-01-26 14:13:42.462 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:13:42.462 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 2 items
2025-01-26 14:13:52.468 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:13:52.470 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 2 items
2025-01-26 14:14:02.486 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:14:02.487 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 2 items
2025-01-26 14:14:12.499 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:14:12.505 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 5.4902ms - processed: 0 items - remaining: 2 items
2025-01-26 14:14:22.511 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:14:22.512 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0176ms - processed: 0 items - remaining: 2 items
2025-01-26 14:14:32.600 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:14:32.601 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 2 items
2025-01-26 14:14:42.651 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:14:42.652 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0118ms - processed: 0 items - remaining: 2 items
2025-01-26 14:14:52.670 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:14:52.671 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 2 items
2025-01-26 14:15:02.679 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:15:02.679 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 2 items
2025-01-26 14:15:12.683 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:15:12.683 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 2 items
2025-01-26 14:15:22.699 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:15:22.700 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0056ms - processed: 0 items - remaining: 2 items
2025-01-26 14:15:32.711 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:15:32.711 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0055ms - processed: 0 items - remaining: 2 items
2025-01-26 14:15:42.713 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:15:42.713 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0083ms - processed: 0 items - remaining: 2 items
2025-01-26 14:15:52.723 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:15:52.723 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0141ms - processed: 0 items - remaining: 2 items
2025-01-26 14:16:02.730 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:16:05.430 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0141ms - processed: 0 items - remaining: 2 items
2025-01-26 14:16:15.444 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:16:15.445 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 2 items
2025-01-26 14:16:25.461 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:16:25.467 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 2 items
2025-01-26 14:16:35.469 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:16:35.469 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 2 items
2025-01-26 14:16:45.471 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:16:45.471 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.6136ms - processed: 0 items - remaining: 2 items
2025-01-26 14:16:55.480 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:16:55.824 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 2 items
2025-01-26 14:17:05.824 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:17:05.824 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 2 items
2025-01-26 14:17:15.872 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:17:15.922 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0061ms - processed: 0 items - remaining: 2 items
2025-01-26 14:17:26.084 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:17:26.084 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 2 items
2025-01-26 14:17:36.096 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:17:36.097 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 2 items
2025-01-26 14:17:46.103 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:17:46.104 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 2 items
2025-01-26 14:17:56.105 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:17:56.105 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 0 items - remaining: 2 items
2025-01-26 14:18:06.114 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:18:06.114 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 2 items
2025-01-26 14:18:15.921 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/index.html - null null
2025-01-26 14:18:15.997 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-01-26 14:18:15.997 +03:00 [DBG] Request did not match any endpoints
2025-01-26 14:18:16.011 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-01-26 14:18:16.011 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-01-26 14:18:16.020 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-01-26 14:18:16.020 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-01-26 14:18:16.021 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/index.html - 200 null text/html;charset=utf-8 102.7877ms
2025-01-26 14:18:16.117 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:18:16.120 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 2.9887ms - processed: 1 items - remaining: 1 items
2025-01-26 14:18:20.441 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - null null
2025-01-26 14:18:20.442 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_vs/browserLink - null null
2025-01-26 14:18:20.447 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 5.773ms
2025-01-26 14:18:20.465 +03:00 [DBG] Connection ID "18230571309580943361" disconnecting.
2025-01-26 14:18:20.516 +03:00 [DBG] Connection ID "18158513715543015425" disconnecting.
2025-01-26 14:18:20.517 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_vs/browserLink - 200 null text/javascript; charset=UTF-8 75.6004ms
2025-01-26 14:18:22.258 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - null null
2025-01-26 14:18:22.258 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-01-26 14:18:22.258 +03:00 [DBG] Request did not match any endpoints
2025-01-26 14:18:22.375 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 118.1113ms
2025-01-26 14:18:26.128 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 14:18:26.128 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 1 items
2025-01-26 14:18:36.134 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 14:18:36.134 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 1 items
2025-01-26 14:18:39.808 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/index.html - null null
2025-01-26 14:18:39.827 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-01-26 14:18:39.827 +03:00 [DBG] Request did not match any endpoints
2025-01-26 14:18:39.831 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-01-26 14:18:39.831 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-01-26 14:18:39.832 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-01-26 14:18:39.833 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-01-26 14:18:39.833 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/index.html - 200 null text/html;charset=utf-8 25.7397ms
2025-01-26 14:18:40.370 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - null null
2025-01-26 14:18:40.371 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_vs/browserLink - null null
2025-01-26 14:18:40.372 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 3.2308ms
2025-01-26 14:18:40.372 +03:00 [DBG] Connection ID "18302628903618871316" disconnecting.
2025-01-26 14:18:40.402 +03:00 [DBG] Connection ID "18158513706953080845" disconnecting.
2025-01-26 14:18:40.414 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.9971ms
2025-01-26 14:18:40.652 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - null null
2025-01-26 14:18:40.653 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-01-26 14:18:40.653 +03:00 [DBG] Request did not match any endpoints
2025-01-26 14:18:40.740 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 87.8686ms
2025-01-26 14:18:40.740 +03:00 [DBG] Connection ID "18374686523426603024" disconnecting.
2025-01-26 14:18:46.143 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 14:18:46.143 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 1 items
2025-01-26 14:18:56.153 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 14:18:56.154 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0073ms - processed: 0 items - remaining: 1 items
2025-01-26 14:18:58.641 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/RoleManagegement/login - application/json 39
2025-01-26 14:18:58.646 +03:00 [DBG] 1 candidate(s) found for the request path '/api/RoleManagegement/login'
2025-01-26 14:18:58.646 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)' with route pattern 'api/RoleManagegement/login' is valid for the request path '/api/RoleManagegement/login'
2025-01-26 14:18:58.647 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 14:18:58.649 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 14:18:58.658 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-26 14:18:58.661 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 14:18:58.661 +03:00 [INF] CORS policy execution successful.
2025-01-26 14:18:58.669 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 14:18:58.724 +03:00 [INF] Route matched with {action = "Login", controller = "RoleManagegement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LibraryManagementDomain.Models.LoginModel) on controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI).
2025-01-26 14:18:58.724 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-26 14:18:58.725 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 14:18:58.726 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 14:18:58.726 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 14:18:58.726 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 14:18:58.728 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI)
2025-01-26 14:18:58.751 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 14:18:58.759 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI)
2025-01-26 14:18:58.760 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' ...
2025-01-26 14:18:58.761 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' using the name '' in request data ...
2025-01-26 14:18:58.761 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 14:18:58.767 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.LoginModel'
2025-01-26 14:18:58.767 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 14:18:58.767 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 14:18:58.767 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' ...
2025-01-26 14:18:58.774 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 14:18:58.795 +03:00 [DBG] Creating DbConnection.
2025-01-26 14:18:58.796 +03:00 [DBG] Created DbConnection. (1ms).
2025-01-26 14:18:58.797 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:18:58.910 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:18:58.913 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 14:18:58.915 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-26 14:18:58.918 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-26 14:18:58.919 +03:00 [DBG] Executing DbCommand [Parameters=[@__model_Id_0='12'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."PasswordHash", u."RoleId"
FROM "Users" AS u
WHERE u."Id" = @__model_Id_0
LIMIT 1
2025-01-26 14:18:58.968 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[@__model_Id_0='12'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."PasswordHash", u."RoleId"
FROM "Users" AS u
WHERE u."Id" = @__model_Id_0
LIMIT 1
2025-01-26 14:18:58.979 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'User' entity with key '{Id: 12}'.
2025-01-26 14:18:58.980 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:18:58.980 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 11ms reading results.
2025-01-26 14:18:58.981 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:18:58.981 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 14:18:59.216 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:18:59.216 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:18:59.216 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 14:18:59.216 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 14:18:59.216 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 14:18:59.216 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_RoleId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Id" = @__user_RoleId_0
LIMIT 1
2025-01-26 14:18:59.224 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_RoleId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Id" = @__user_RoleId_0
LIMIT 1
2025-01-26 14:18:59.225 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Role' entity with key '{Id: 3}'.
2025-01-26 14:18:59.225 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:18:59.226 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-01-26 14:18:59.226 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:18:59.226 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 14:18:59.227 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:18:59.227 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:18:59.227 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 14:18:59.227 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 14:18:59.228 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 14:18:59.228 +03:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Permission"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__role_Id_0
2025-01-26 14:18:59.231 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Permission"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__role_Id_0
2025-01-26 14:18:59.232 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:18:59.232 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-01-26 14:18:59.232 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:18:59.232 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 14:18:59.242 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 14:18:59.242 +03:00 [DBG] No information found on request to perform content negotiation.
2025-01-26 14:18:59.242 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 14:18:59.242 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 14:18:59.243 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 14:18:59.243 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-26 14:18:59.247 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI) in 521.2035ms
2025-01-26 14:18:59.248 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 14:18:59.248 +03:00 [INF] HTTP POST /api/RoleManagegement/login responded 200 in 598.8983 ms
2025-01-26 14:18:59.249 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 14:18:59.249 +03:00 [DBG] Connection ID "18302628933683642380" disconnecting.
2025-01-26 14:18:59.249 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:18:59.250 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 14:18:59.250 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/RoleManagegement/login - 200 null application/json; charset=utf-8 609.4591ms
2025-01-26 14:19:06.168 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 14:19:06.168 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 1 items
2025-01-26 14:19:16.170 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 14:19:16.170 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 1 items
2025-01-26 14:19:26.184 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 14:19:26.184 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 1 items
2025-01-26 14:19:31.436 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/Authors - application/json 64
2025-01-26 14:19:31.438 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 14:19:31.438 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 14:19:31.438 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 14:19:31.439 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 14:19:31.444 +03:00 [DBG] Successfully validated the token.
2025-01-26 14:19:31.445 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 14:19:31.446 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 14:19:31.446 +03:00 [INF] CORS policy execution successful.
2025-01-26 14:19:31.446 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 14:19:31.455 +03:00 [INF] Route matched with {action = "AddAuthor", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddAuthor(LibraryManagementDomain.Models.AuthorModel) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 14:19:31.456 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 14:19:31.456 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 14:19:31.456 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 14:19:31.458 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 14:19:31.458 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 14:19:31.458 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 14:19:31.460 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 14:19:31.460 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 14:19:31.461 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 14:19:31.462 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' using the name '' in request data ...
2025-01-26 14:19:31.462 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 14:19:31.465 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.AuthorModel'
2025-01-26 14:19:31.465 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 14:19:31.465 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 14:19:31.465 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 14:19:31.472 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 14:19:31.475 +03:00 [DBG] Creating DbConnection.
2025-01-26 14:19:31.475 +03:00 [DBG] Created DbConnection. (0ms).
2025-01-26 14:19:31.475 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:19:31.475 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:19:31.478 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-01-26 14:19:31.479 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-01-26 14:19:31.506 +03:00 [DBG] Compiling query expression: 
'DbSet<Author>()
    .Any(a => a.Name == __command_Model_Name_0)'
2025-01-26 14:19:31.594 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Authors AS a
                WHERE a.Name == @__command_Model_Name_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Authors AS a
                WHERE a.Name == @__command_Model_Name_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: LibraryManagementInfrastructure.LibraryDBContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-26 14:19:31.614 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 14:19:31.614 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 14:19:31.620 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-26 14:19:31.621 +03:00 [DBG] Executing DbCommand [Parameters=[@__command_Model_Name_0='TestAuthor'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Authors" AS a
    WHERE a."Name" = @__command_Model_Name_0)
2025-01-26 14:19:31.649 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__command_Model_Name_0='TestAuthor'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Authors" AS a
    WHERE a."Name" = @__command_Model_Name_0)
2025-01-26 14:19:31.672 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:19:31.672 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 19ms reading results.
2025-01-26 14:19:31.730 +03:00 [DBG] 'LibraryDBContext' generated temporary value '-2147482647' for the property 'Author.AuthorId'.
2025-01-26 14:19:31.760 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: -2147482647}'.
2025-01-26 14:19:32.181 +03:00 [DBG] SaveChanges starting for 'LibraryDBContext'.
2025-01-26 14:19:32.185 +03:00 [DBG] DetectChanges starting for 'LibraryDBContext'.
2025-01-26 14:19:32.199 +03:00 [DBG] DetectChanges completed for 'LibraryDBContext'.
2025-01-26 14:19:32.338 +03:00 [DBG] Creating transaction savepoint.
2025-01-26 14:19:32.348 +03:00 [DBG] Created transaction savepoint.
2025-01-26 14:19:32.350 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 14:19:32.350 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 14:19:32.356 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-26 14:19:32.356 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='70', @p1='1', @p2='TestAuthor' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Authors" ("AuthorAge", "AuthorType", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "AuthorId";
2025-01-26 14:19:32.378 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='70', @p1='1', @p2='TestAuthor' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Authors" ("AuthorAge", "AuthorType", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "AuthorId";
2025-01-26 14:19:32.394 +03:00 [DBG] The foreign key property 'Author.AuthorId' was detected as changed from '-2147482647' to '10' for entity with key '{AuthorId: 10}'.
2025-01-26 14:19:32.407 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:19:32.407 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 28ms reading results.
2025-01-26 14:19:32.410 +03:00 [DBG] Releasing transaction savepoint.
2025-01-26 14:19:32.416 +03:00 [DBG] Released transaction savepoint.
2025-01-26 14:19:32.434 +03:00 [DBG] The 'Author' entity with key '{AuthorId: 10}' tracked by 'LibraryDBContext' changed state from '"Added"' to '"Unchanged"'.
2025-01-26 14:19:32.439 +03:00 [DBG] SaveChanges completed for 'LibraryDBContext' with 1 entities written to the database.
2025-01-26 14:19:32.443 +03:00 [DBG] Committing transaction.
2025-01-26 14:19:32.466 +03:00 [DBG] Committed transaction.
2025-01-26 14:19:32.470 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:19:32.470 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 14:19:32.666 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 14:19:32.667 +03:00 [DBG] No information found on request to perform content negotiation.
2025-01-26 14:19:32.667 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 14:19:32.667 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 14:19:32.667 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 14:19:32.667 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'LibraryManagementDomain.DTO.AuthorDTO'.
2025-01-26 14:19:32.711 +03:00 [DBG] Found the endpoints ["LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)"] for address (id=[0],action=[AddAuthor],controller=[Authors])
2025-01-26 14:19:32.716 +03:00 [DBG] Successfully processed template api/Authors for LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI) resulting in /api/Authors and ?id=0
2025-01-26 14:19:32.723 +03:00 [DBG] Link generation succeeded for endpoints ["LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)"] with result /api/Authors?id=0
2025-01-26 14:19:32.726 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI) in 1267.7305ms
2025-01-26 14:19:32.726 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 14:19:32.727 +03:00 [INF] HTTP POST /api/Authors responded 201 in 1287.9701 ms
2025-01-26 14:19:32.727 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 14:19:32.727 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 14:19:32.727 +03:00 [DBG] Connection ID "17942340924839297026" disconnecting.
2025-01-26 14:19:32.727 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 14:19:32.727 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/Authors - 201 null application/json; charset=utf-8 1291.2833ms
2025-01-26 14:19:36.189 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 14:19:36.189 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 1 items
2025-01-26 14:19:46.198 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 14:19:46.198 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 1 items
2025-01-26 14:19:56.199 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 14:19:56.199 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 1 items
2025-01-26 14:20:06.210 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 14:20:06.210 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 1 items
2025-01-26 14:20:16.209 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 14:20:16.210 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 1 items
2025-01-26 14:20:26.210 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 14:20:26.210 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 1 items
2025-01-26 14:20:36.226 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 14:20:36.227 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 1 items
2025-01-26 14:20:46.243 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 14:20:46.244 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 1 items
2025-01-26 14:20:56.246 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 14:20:56.246 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 1 items
2025-01-26 14:20:58.768 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-01-26 14:21:06.250 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:21:06.250 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 2 items
2025-01-26 14:21:16.257 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-01-26 14:21:16.260 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 1.8993ms - processed: 0 items - remaining: 2 items
2025-01-26 15:50:33.690 +03:00 [DBG] Initializing Razor view compiler with no compiled views.
2025-01-26 15:50:33.878 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-01-26 15:50:34.087 +03:00 [DBG] Hosting starting
2025-01-26 15:50:34.194 +03:00 [INF] User profile is available. Using 'C:\Users\rashe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-26 15:50:34.234 +03:00 [DBG] Reading data from file 'C:\Users\rashe\AppData\Local\ASP.NET\DataProtection-Keys\key-34f2e68a-4570-439a-8454-209f4db72d73.xml'.
2025-01-26 15:50:34.284 +03:00 [DBG] Found key {34f2e68a-4570-439a-8454-209f4db72d73}.
2025-01-26 15:50:34.305 +03:00 [DBG] Considering key {34f2e68a-4570-439a-8454-209f4db72d73} with expiration date 2025-04-13 07:54:25Z as default key.
2025-01-26 15:50:34.313 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-01-26 15:50:34.314 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-01-26 15:50:34.316 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-01-26 15:50:34.327 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-01-26 15:50:34.329 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-01-26 15:50:34.331 +03:00 [DBG] Using key {34f2e68a-4570-439a-8454-209f4db72d73} as the default key.
2025-01-26 15:50:34.333 +03:00 [DBG] Key ring with default key {34f2e68a-4570-439a-8454-209f4db72d73} was loaded during application startup.
2025-01-26 15:50:34.550 +03:00 [DBG] Loaded hosting startup assembly LibraryManagementAPI
2025-01-26 15:50:34.551 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-01-26 15:50:34.551 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-01-26 15:50:34.551 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-01-26 15:50:34.660 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/index.html - null null
2025-01-26 15:50:34.757 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-26 15:50:34.757 +03:00 [INF] Hosting environment: Development
2025-01-26 15:50:34.757 +03:00 [INF] Content root path: C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library
2025-01-26 15:50:34.758 +03:00 [DBG] Hosting started
2025-01-26 15:50:36.142 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-01-26 15:50:36.159 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-01-26 15:50:36.160 +03:00 [DBG] Request did not match any endpoints
2025-01-26 15:50:36.248 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-01-26 15:50:36.251 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-01-26 15:50:36.329 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-01-26 15:50:36.331 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-01-26 15:50:36.345 +03:00 [DBG] Connection ID "18302628912208805901" disconnecting.
2025-01-26 15:50:36.347 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/index.html - 200 null text/html;charset=utf-8 1697.8355ms
2025-01-26 15:50:37.628 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - null null
2025-01-26 15:50:37.628 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_vs/browserLink - null null
2025-01-26 15:50:37.635 +03:00 [DBG] Connection ID "18230571322465845249" disconnecting.
2025-01-26 15:50:37.639 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 7.1263ms
2025-01-26 15:50:37.841 +03:00 [DBG] Connection ID "18302628929388675078" disconnecting.
2025-01-26 15:50:37.841 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_vs/browserLink - 200 null text/javascript; charset=UTF-8 213.3899ms
2025-01-26 15:50:44.928 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - null null
2025-01-26 15:50:44.929 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-01-26 15:50:44.929 +03:00 [DBG] Request did not match any endpoints
2025-01-26 15:50:44.993 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 65.0222ms
2025-01-26 15:50:45.002 +03:00 [DBG] Connection ID "18374686506246733839" disconnecting.
2025-01-26 15:51:05.244 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/RoleManagegement/login - application/json 39
2025-01-26 15:51:05.319 +03:00 [DBG] 1 candidate(s) found for the request path '/api/RoleManagegement/login'
2025-01-26 15:51:05.323 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)' with route pattern 'api/RoleManagegement/login' is valid for the request path '/api/RoleManagegement/login'
2025-01-26 15:51:05.325 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 15:51:05.362 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 15:51:06.675 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-26 15:51:06.682 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 15:51:06.682 +03:00 [INF] CORS policy execution successful.
2025-01-26 15:51:06.687 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 15:51:07.010 +03:00 [INF] Route matched with {action = "Login", controller = "RoleManagegement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LibraryManagementDomain.Models.LoginModel) on controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI).
2025-01-26 15:51:07.014 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-26 15:51:07.015 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 15:51:07.015 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 15:51:07.016 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 15:51:07.017 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 15:51:07.022 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI)
2025-01-26 15:51:07.844 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-01-26 15:51:08.509 +03:00 [DBG] The index {'CourseId'} was not created on entity type 'StudentCourse (Dictionary<string, object>)' as the properties are already covered by the index {'CourseId', 'StudentId'}.
2025-01-26 15:51:08.615 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-01-26 15:51:08.725 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 15:51:08.733 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI)
2025-01-26 15:51:08.736 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' ...
2025-01-26 15:51:08.739 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' using the name '' in request data ...
2025-01-26 15:51:08.741 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 15:51:08.758 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.LoginModel'
2025-01-26 15:51:08.759 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 15:51:08.759 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 15:51:08.759 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' ...
2025-01-26 15:51:08.782 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 15:51:08.902 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __model_Id_0)'
2025-01-26 15:51:09.226 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string) Required, 1], [Property: User.RoleId (int) Required, 2] }
            SELECT TOP(1) u.Id, u.PasswordHash, u.RoleId
            FROM Users AS u
            WHERE u.Id == @__model_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string) Required, 1], [Property: User.RoleId (int) Required, 2] }
            SELECT TOP(1) u.Id, u.PasswordHash, u.RoleId
            FROM Users AS u
            WHERE u.Id == @__model_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(1);
                                    instance.<RoleId>k__BackingField = dataReader.GetInt32(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: LibraryManagementInfrastructure.LibraryDBContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-26 15:51:09.267 +03:00 [DBG] Creating DbConnection.
2025-01-26 15:51:09.342 +03:00 [DBG] Created DbConnection. (72ms).
2025-01-26 15:51:09.349 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:51:09.724 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:51:09.731 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 15:51:09.745 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-01-26 15:51:09.752 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2025-01-26 15:51:09.768 +03:00 [DBG] Executing DbCommand [Parameters=[@__model_Id_0='12'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."PasswordHash", u."RoleId"
FROM "Users" AS u
WHERE u."Id" = @__model_Id_0
LIMIT 1
2025-01-26 15:51:09.867 +03:00 [INF] Executed DbCommand (107ms) [Parameters=[@__model_Id_0='12'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."PasswordHash", u."RoleId"
FROM "Users" AS u
WHERE u."Id" = @__model_Id_0
LIMIT 1
2025-01-26 15:51:09.911 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'User' entity with key '{Id: 12}'.
2025-01-26 15:51:09.941 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:51:09.955 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 79ms reading results.
2025-01-26 15:51:09.965 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:51:09.972 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (6ms).
2025-01-26 15:51:10.249 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.Id == __user_RoleId_0)'
2025-01-26 15:51:10.254 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Role>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required, 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Roles AS r
            WHERE r.Id == @__user_RoleId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required, 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Roles AS r
            WHERE r.Id == @__user_RoleId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Role entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Role instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Role);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Role.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Role)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")]: 
                            {
                                return 
                                {
                                    Role instance;
                                    instance = new Role();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Name>k__BackingField = dataReader.GetString(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Role)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: LibraryManagementInfrastructure.LibraryDBContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-26 15:51:10.260 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:51:10.261 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:51:10.261 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 15:51:10.261 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 15:51:10.261 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 15:51:10.261 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_RoleId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Id" = @__user_RoleId_0
LIMIT 1
2025-01-26 15:51:10.267 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_RoleId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Id" = @__user_RoleId_0
LIMIT 1
2025-01-26 15:51:10.271 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Role' entity with key '{Id: 3}'.
2025-01-26 15:51:10.278 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:51:10.278 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 10ms reading results.
2025-01-26 15:51:10.278 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:51:10.278 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 15:51:10.282 +03:00 [DBG] Compiling query expression: 
'DbSet<RolePermission>()
    .Where(rp => rp.RoleId == __role_Id_0)
    .Select(rp => rp.Permission)'
2025-01-26 15:51:10.287 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT r.Permission
        FROM RolePermissions AS r
        WHERE r.RoleId == @__role_Id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT r.Permission
        FROM RolePermissions AS r
        WHERE r.RoleId == @__role_Id_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.GetString(0);
        return value1;
    }, 
    contextType: LibraryManagementInfrastructure.LibraryDBContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-01-26 15:51:10.289 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:51:10.289 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:51:10.289 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 15:51:10.290 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 15:51:10.290 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 15:51:10.290 +03:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Permission"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__role_Id_0
2025-01-26 15:51:10.295 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Permission"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__role_Id_0
2025-01-26 15:51:10.296 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:51:10.296 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-01-26 15:51:10.297 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:51:10.297 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 15:51:10.367 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 15:51:10.369 +03:00 [DBG] No information found on request to perform content negotiation.
2025-01-26 15:51:10.369 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 15:51:10.369 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 15:51:10.370 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 15:51:10.370 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-26 15:51:10.389 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI) in 3367.2121ms
2025-01-26 15:51:10.392 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 15:51:10.395 +03:00 [INF] HTTP POST /api/RoleManagegement/login responded 200 in 5029.0101 ms
2025-01-26 15:51:10.399 +03:00 [DBG] Connection ID "18302628912208805904" disconnecting.
2025-01-26 15:51:10.402 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 15:51:10.406 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:51:10.409 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (3ms).
2025-01-26 15:51:10.412 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/RoleManagegement/login - 200 null application/json; charset=utf-8 5168.2696ms
2025-01-26 15:51:27.825 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/api/Authors - null null
2025-01-26 15:51:27.827 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 15:51:27.827 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 15:51:27.828 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)'
2025-01-26 15:51:27.829 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 15:51:27.883 +03:00 [DBG] Successfully validated the token.
2025-01-26 15:51:27.884 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 15:51:27.897 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)'
2025-01-26 15:51:27.901 +03:00 [INF] Route matched with {action = "GetAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[LibraryManagementDomain.DTO.AuthorDTO]]] GetAuthors() on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 15:51:27.901 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 15:51:27.901 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 15:51:27.901 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 15:51:27.901 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 15:51:27.901 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 15:51:27.902 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 15:51:27.950 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 15:51:27.951 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 15:51:28.141 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 15:51:28.143 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-01-26 15:51:28.144 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-01-26 15:51:28.144 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 15:51:28.144 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 15:51:28.145 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 15:51:28.145 +03:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-26 15:51:28.154 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI) in 252.5735ms
2025-01-26 15:51:28.154 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)'
2025-01-26 15:51:28.154 +03:00 [INF] HTTP GET /api/Authors responded 404 in 325.1410 ms
2025-01-26 15:51:28.155 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 15:51:28.155 +03:00 [DBG] Connection ID "18302628929388675080" disconnecting.
2025-01-26 15:51:28.156 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/api/Authors - 404 null application/json; charset=utf-8 331.4778ms
2025-01-26 15:53:46.138 +03:00 [DBG] Initializing Razor view compiler with no compiled views.
2025-01-26 15:53:46.200 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-01-26 15:53:46.292 +03:00 [DBG] Hosting starting
2025-01-26 15:53:46.351 +03:00 [INF] User profile is available. Using 'C:\Users\rashe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-26 15:53:46.371 +03:00 [DBG] Reading data from file 'C:\Users\rashe\AppData\Local\ASP.NET\DataProtection-Keys\key-34f2e68a-4570-439a-8454-209f4db72d73.xml'.
2025-01-26 15:53:46.418 +03:00 [DBG] Found key {34f2e68a-4570-439a-8454-209f4db72d73}.
2025-01-26 15:53:46.426 +03:00 [DBG] Considering key {34f2e68a-4570-439a-8454-209f4db72d73} with expiration date 2025-04-13 07:54:25Z as default key.
2025-01-26 15:53:46.429 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-01-26 15:53:46.430 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-01-26 15:53:46.433 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-01-26 15:53:46.438 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-01-26 15:53:46.439 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-01-26 15:53:46.440 +03:00 [DBG] Using key {34f2e68a-4570-439a-8454-209f4db72d73} as the default key.
2025-01-26 15:53:46.441 +03:00 [DBG] Key ring with default key {34f2e68a-4570-439a-8454-209f4db72d73} was loaded during application startup.
2025-01-26 15:53:46.640 +03:00 [DBG] Loaded hosting startup assembly LibraryManagementAPI
2025-01-26 15:53:46.641 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-01-26 15:53:46.641 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-01-26 15:53:46.641 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-01-26 15:53:46.732 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/index.html - null null
2025-01-26 15:53:46.842 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-26 15:53:46.842 +03:00 [INF] Hosting environment: Development
2025-01-26 15:53:46.842 +03:00 [INF] Content root path: C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library
2025-01-26 15:53:46.843 +03:00 [DBG] Hosting started
2025-01-26 15:53:46.933 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-01-26 15:53:46.958 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-01-26 15:53:46.959 +03:00 [DBG] Request did not match any endpoints
2025-01-26 15:53:47.044 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-01-26 15:53:47.047 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-01-26 15:53:47.098 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-01-26 15:53:47.099 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-01-26 15:53:47.513 +03:00 [DBG] Connection ID "18086456112915152899" disconnecting.
2025-01-26 15:53:47.518 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/index.html - 200 null text/html;charset=utf-8 792.5674ms
2025-01-26 15:53:48.419 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - null null
2025-01-26 15:53:48.419 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_vs/browserLink - null null
2025-01-26 15:53:48.431 +03:00 [DBG] Connection ID "18086456112915152901" disconnecting.
2025-01-26 15:53:48.432 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 6.2341ms
2025-01-26 15:53:48.493 +03:00 [DBG] Connection ID "18014398518877224963" disconnecting.
2025-01-26 15:53:48.500 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_vs/browserLink - 200 null text/javascript; charset=UTF-8 81.3911ms
2025-01-26 15:53:50.576 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - null null
2025-01-26 15:53:50.577 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-01-26 15:53:50.577 +03:00 [DBG] Request did not match any endpoints
2025-01-26 15:53:50.613 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 36.6401ms
2025-01-26 15:53:50.613 +03:00 [DBG] Connection ID "18302628899323904010" disconnecting.
2025-01-26 15:54:25.665 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/RoleManagegement/login - application/json 39
2025-01-26 15:54:28.218 +03:00 [DBG] 1 candidate(s) found for the request path '/api/RoleManagegement/login'
2025-01-26 15:54:28.232 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)' with route pattern 'api/RoleManagegement/login' is valid for the request path '/api/RoleManagegement/login'
2025-01-26 15:54:28.244 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 15:54:28.267 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 15:54:28.511 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-26 15:54:28.520 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 15:54:28.521 +03:00 [INF] CORS policy execution successful.
2025-01-26 15:54:28.523 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 15:54:28.606 +03:00 [INF] Route matched with {action = "Login", controller = "RoleManagegement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LibraryManagementDomain.Models.LoginModel) on controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI).
2025-01-26 15:54:28.607 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-26 15:54:28.608 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 15:54:28.608 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 15:54:28.608 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 15:54:28.609 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 15:54:28.612 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI)
2025-01-26 15:54:28.975 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-01-26 15:54:29.659 +03:00 [DBG] The index {'CourseId'} was not created on entity type 'StudentCourse (Dictionary<string, object>)' as the properties are already covered by the index {'CourseId', 'StudentId'}.
2025-01-26 15:54:29.813 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-01-26 15:54:29.973 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 15:54:29.997 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI)
2025-01-26 15:54:30.013 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' ...
2025-01-26 15:54:30.017 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' using the name '' in request data ...
2025-01-26 15:54:30.020 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 15:54:30.070 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.LoginModel'
2025-01-26 15:54:30.070 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 15:54:30.071 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 15:54:30.071 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' ...
2025-01-26 15:54:30.125 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 15:54:30.264 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __model_Id_0)'
2025-01-26 15:54:30.652 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string) Required, 1], [Property: User.RoleId (int) Required, 2] }
            SELECT TOP(1) u.Id, u.PasswordHash, u.RoleId
            FROM Users AS u
            WHERE u.Id == @__model_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string) Required, 1], [Property: User.RoleId (int) Required, 2] }
            SELECT TOP(1) u.Id, u.PasswordHash, u.RoleId
            FROM Users AS u
            WHERE u.Id == @__model_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(1);
                                    instance.<RoleId>k__BackingField = dataReader.GetInt32(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: LibraryManagementInfrastructure.LibraryDBContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-26 15:54:30.720 +03:00 [DBG] Creating DbConnection.
2025-01-26 15:54:30.793 +03:00 [DBG] Created DbConnection. (74ms).
2025-01-26 15:54:30.798 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:54:31.056 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:54:31.060 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 15:54:31.069 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-01-26 15:54:31.073 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-01-26 15:54:31.082 +03:00 [DBG] Executing DbCommand [Parameters=[@__model_Id_0='12'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."PasswordHash", u."RoleId"
FROM "Users" AS u
WHERE u."Id" = @__model_Id_0
LIMIT 1
2025-01-26 15:54:31.173 +03:00 [INF] Executed DbCommand (94ms) [Parameters=[@__model_Id_0='12'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."PasswordHash", u."RoleId"
FROM "Users" AS u
WHERE u."Id" = @__model_Id_0
LIMIT 1
2025-01-26 15:54:31.222 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'User' entity with key '{Id: 12}'.
2025-01-26 15:54:31.248 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:54:31.260 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 80ms reading results.
2025-01-26 15:54:31.267 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:54:31.272 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (4ms).
2025-01-26 15:54:31.638 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.Id == __user_RoleId_0)'
2025-01-26 15:54:31.646 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Role>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required, 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Roles AS r
            WHERE r.Id == @__user_RoleId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required, 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Roles AS r
            WHERE r.Id == @__user_RoleId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Role entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Role instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Role);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Role.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Role)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")]: 
                            {
                                return 
                                {
                                    Role instance;
                                    instance = new Role();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Name>k__BackingField = dataReader.GetString(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Role)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: LibraryManagementInfrastructure.LibraryDBContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-26 15:54:31.651 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:54:31.651 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:54:31.651 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 15:54:31.651 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 15:54:31.651 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 15:54:31.652 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_RoleId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Id" = @__user_RoleId_0
LIMIT 1
2025-01-26 15:54:31.658 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_RoleId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Id" = @__user_RoleId_0
LIMIT 1
2025-01-26 15:54:31.665 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Role' entity with key '{Id: 3}'.
2025-01-26 15:54:31.768 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:54:31.769 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 110ms reading results.
2025-01-26 15:54:31.769 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:54:31.769 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 15:54:31.775 +03:00 [DBG] Compiling query expression: 
'DbSet<RolePermission>()
    .Where(rp => rp.RoleId == __role_Id_0)
    .Select(rp => rp.Permission)'
2025-01-26 15:54:31.786 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT r.Permission
        FROM RolePermissions AS r
        WHERE r.RoleId == @__role_Id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT r.Permission
        FROM RolePermissions AS r
        WHERE r.RoleId == @__role_Id_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.GetString(0);
        return value1;
    }, 
    contextType: LibraryManagementInfrastructure.LibraryDBContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-01-26 15:54:31.788 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:54:31.788 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:54:31.788 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 15:54:31.788 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 15:54:31.788 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 15:54:31.788 +03:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Permission"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__role_Id_0
2025-01-26 15:54:31.794 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Permission"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__role_Id_0
2025-01-26 15:54:31.796 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:54:31.797 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-01-26 15:54:31.797 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:54:31.797 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 15:54:31.873 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 15:54:31.874 +03:00 [DBG] No information found on request to perform content negotiation.
2025-01-26 15:54:31.875 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 15:54:31.875 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 15:54:31.875 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 15:54:31.876 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-26 15:54:31.891 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI) in 3280.2814ms
2025-01-26 15:54:31.891 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 15:54:31.895 +03:00 [INF] HTTP POST /api/RoleManagegement/login responded 200 in 3618.5457 ms
2025-01-26 15:54:31.900 +03:00 [DBG] Connection ID "18302628916503773193" disconnecting.
2025-01-26 15:54:31.902 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 15:54:31.905 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:54:31.907 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (1ms).
2025-01-26 15:54:31.909 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/RoleManagegement/login - 200 null application/json; charset=utf-8 6245.7142ms
2025-01-26 15:54:53.523 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/api/Authors - null null
2025-01-26 15:54:53.527 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 15:54:53.528 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 15:54:53.528 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)'
2025-01-26 15:54:53.530 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 15:54:53.584 +03:00 [DBG] Successfully validated the token.
2025-01-26 15:54:53.586 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 15:54:53.600 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)'
2025-01-26 15:54:53.605 +03:00 [INF] Route matched with {action = "GetAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[LibraryManagementDomain.DTO.AuthorDTO]]] GetAuthors() on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 15:54:53.605 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 15:54:53.605 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 15:54:53.605 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 15:54:53.605 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 15:54:53.605 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 15:54:53.605 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 15:54:53.658 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 15:54:53.659 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 15:54:53.736 +03:00 [DBG] Compiling query expression: 
'DbSet<Author>()'
2025-01-26 15:54:53.748 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Author>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Author.AuthorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Author.AuthorAge (int) Required, 1], [Property: Author.AuthorType (short) Required, 2], [Property: Author.Name (string) Required MaxLength(100), 3] }
        SELECT a.AuthorId, a.AuthorAge, a.AuthorType, a.Name
        FROM Authors AS a) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Author.AuthorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Author.AuthorAge (int) Required, 1], [Property: Author.AuthorType (short) Required, 2], [Property: Author.Name (string) Required MaxLength(100), 3] }
        SELECT a.AuthorId, a.AuthorAge, a.AuthorType, a.Name
        FROM Authors AS a, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Author entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Author instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Author);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Author.AuthorId PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Author)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Author | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Author | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author")]: 
                        {
                            return 
                            {
                                Author instance;
                                instance = new Author();
                                instance.<AuthorId>k__BackingField = dataReader.GetInt32(0);
                                instance.<AuthorAge>k__BackingField = dataReader.GetInt32(1);
                                instance.<AuthorType>k__BackingField = Invoke(((CastingConverter<short, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Author.AuthorType (short) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author").FindProperty("AuthorType")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(2));
                                instance.<Name>k__BackingField = dataReader.GetString(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Author | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Author)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: LibraryManagementInfrastructure.LibraryDBContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-01-26 15:54:53.753 +03:00 [DBG] Creating DbConnection.
2025-01-26 15:54:53.753 +03:00 [DBG] Created DbConnection. (0ms).
2025-01-26 15:54:53.753 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:54:53.753 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:54:53.754 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 15:54:53.754 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 15:54:53.754 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 15:54:53.754 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."AuthorId", a."AuthorAge", a."AuthorType", a."Name"
FROM "Authors" AS a
2025-01-26 15:54:53.769 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."AuthorId", a."AuthorAge", a."AuthorType", a."Name"
FROM "Authors" AS a
2025-01-26 15:54:53.785 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 1}'.
2025-01-26 15:54:53.795 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 4}'.
2025-01-26 15:54:53.796 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 5}'.
2025-01-26 15:54:53.796 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 6}'.
2025-01-26 15:54:53.796 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 7}'.
2025-01-26 15:54:53.797 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 8}'.
2025-01-26 15:54:53.797 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 9}'.
2025-01-26 15:54:53.798 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 10}'.
2025-01-26 15:54:53.798 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:54:53.798 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 28ms reading results.
2025-01-26 15:54:53.798 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:54:53.798 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 15:54:53.807 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 15:54:53.809 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-01-26 15:54:53.811 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-01-26 15:54:53.812 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 15:54:53.812 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 15:54:53.812 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 15:54:53.812 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[LibraryManagementDomain.Entities.Author, LibraryManagementDomain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[LibraryManagementDomain.DTO.AuthorDTO, LibraryManagementDomain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-26 15:54:53.826 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI) in 221.5262ms
2025-01-26 15:54:53.827 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)'
2025-01-26 15:54:53.827 +03:00 [INF] HTTP GET /api/Authors responded 200 in 297.0327 ms
2025-01-26 15:54:53.828 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 15:54:53.828 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:54:53.829 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 15:54:53.830 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/api/Authors - 200 null application/json; charset=utf-8 306.9756ms
2025-01-26 15:54:53.837 +03:00 [DBG] Connection ID "18014398518877224966" disconnecting.
2025-01-26 15:55:26.770 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/api/Authors/by-name/Sawalha - null null
2025-01-26 15:55:26.772 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors/by-name/Sawalha'
2025-01-26 15:55:26.772 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)' with route pattern 'api/Authors/by-name/{name}' is valid for the request path '/api/Authors/by-name/Sawalha'
2025-01-26 15:55:26.774 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)'
2025-01-26 15:55:26.774 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 15:55:26.779 +03:00 [DBG] Successfully validated the token.
2025-01-26 15:55:26.780 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 15:55:26.781 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)'
2025-01-26 15:55:26.790 +03:00 [INF] Route matched with {action = "GetAuthorByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LibraryManagementDomain.DTO.AuthorDTO]] GetAuthorByName(System.String) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 15:55:26.790 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 15:55:26.791 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 15:55:26.791 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 15:55:26.791 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 15:55:26.791 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 15:55:26.791 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 15:55:26.805 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 15:55:26.806 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 15:55:26.806 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-01-26 15:55:26.807 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2025-01-26 15:55:26.809 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-01-26 15:55:26.809 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-01-26 15:55:26.809 +03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-01-26 15:55:26.811 +03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-01-26 15:55:27.212 +03:00 [INF] Start processing HTTP request GET https://localhost:44321/api/authors/GetFromDB?Name=Sawalha
2025-01-26 15:55:27.213 +03:00 [INF] Sending HTTP request GET https://localhost:44321/api/authors/GetFromDB?Name=Sawalha
2025-01-26 15:55:31.789 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI) in 4998.2837ms
2025-01-26 15:55:31.792 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)'
2025-01-26 15:55:31.958 +03:00 [ERR] HTTP GET /api/Authors/by-name/Sawalha responded 500 in 5183.6829 ms
System.ApplicationException: Error fetching from external API: No connection could be made because the target machine actively refused it. (localhost:44321)
   at Shared.Redis.RedisCache.GetFromExternalAPI[T](String key, String apiUrl) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Shared\Redis\RedisCache.cs:line 79
   at Shared.Redis.RedisCache.GetAsync[T](String key, String apiUrl) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Shared\Redis\RedisCache.cs:line 44
   at LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName(String name) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 108
   at lambda_method122(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-01-26 15:55:32.155 +03:00 [ERR] An unhandled exception has occurred.
System.ApplicationException: Error fetching from external API: No connection could be made because the target machine actively refused it. (localhost:44321)
   at Shared.Redis.RedisCache.GetFromExternalAPI[T](String key, String apiUrl) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Shared\Redis\RedisCache.cs:line 79
   at Shared.Redis.RedisCache.GetAsync[T](String key, String apiUrl) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Shared\Redis\RedisCache.cs:line 44
   at LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName(String name) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library\Controllers\AuthorController.cs:line 108
   at lambda_method122(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at LibraryManagementAPI.Middlewares.JwtMiddleware.Invoke(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\JwtMiddleware.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at LibraryManagementAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\rashe\OneDrive\Desktop\Codes\Library\LibraryManagementApplication\Middlewares\ExceptionHandlingMiddleware.cs:line 24
2025-01-26 15:55:32.190 +03:00 [DBG] Connection ID "18374686523426603026" disconnecting.
2025-01-26 15:55:32.190 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 15:55:32.190 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/api/Authors/by-name/Sawalha - 500 null application/json; charset=utf-8 5420.8587ms
2025-01-26 15:56:30.001 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-01-26 15:56:30.252 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/index.html - null null
2025-01-26 15:56:30.299 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-01-26 15:56:30.299 +03:00 [DBG] Request did not match any endpoints
2025-01-26 15:56:30.311 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-01-26 15:56:30.312 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-01-26 15:56:30.317 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-01-26 15:56:30.317 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-01-26 15:56:30.318 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/index.html - 200 null text/html;charset=utf-8 67.8045ms
2025-01-26 15:56:32.444 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - null null
2025-01-26 15:56:32.453 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_vs/browserLink - null null
2025-01-26 15:56:32.453 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 7.6978ms
2025-01-26 15:56:32.453 +03:00 [DBG] Connection ID "18302628912208805908" disconnecting.
2025-01-26 15:56:32.496 +03:00 [DBG] Connection ID "18230571296696041474" disconnecting.
2025-01-26 15:56:32.510 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.2813ms
2025-01-26 15:56:33.460 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - null null
2025-01-26 15:56:33.460 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-01-26 15:56:33.460 +03:00 [DBG] Request did not match any endpoints
2025-01-26 15:56:33.650 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 190.1052ms
2025-01-26 15:56:40.006 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 15:56:40.012 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 1.2846ms - processed: 0 items - remaining: 1 items
2025-01-26 15:56:50.020 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 15:56:50.021 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0192ms - processed: 0 items - remaining: 1 items
2025-01-26 15:57:00.035 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 15:57:00.035 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0099ms - processed: 0 items - remaining: 1 items
2025-01-26 15:57:10.040 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 15:57:10.044 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 1 items
2025-01-26 15:57:15.412 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/api/Authors/by-name/Sawalha - null null
2025-01-26 15:57:15.422 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors/by-name/Sawalha'
2025-01-26 15:57:15.423 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)' with route pattern 'api/Authors/by-name/{name}' is valid for the request path '/api/Authors/by-name/Sawalha'
2025-01-26 15:57:15.425 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)'
2025-01-26 15:57:15.466 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 15:57:15.510 +03:00 [DBG] Successfully validated the token.
2025-01-26 15:57:15.512 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 15:57:15.520 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)'
2025-01-26 15:57:15.546 +03:00 [INF] Route matched with {action = "GetAuthorByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LibraryManagementDomain.DTO.AuthorDTO]] GetAuthorByName(System.String) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 15:57:15.547 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 15:57:15.548 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 15:57:15.549 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 15:57:15.549 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 15:57:15.549 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 15:57:15.550 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 15:57:15.566 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 15:57:15.575 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 15:57:15.582 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-01-26 15:57:15.582 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2025-01-26 15:57:15.584 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-01-26 15:57:15.584 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-01-26 15:57:15.584 +03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-01-26 15:57:15.591 +03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-01-26 15:57:15.610 +03:00 [INF] Start processing HTTP request GET https://localhost:44328/api/authors/GetFromDB?Name=Sawalha
2025-01-26 15:57:15.610 +03:00 [INF] Sending HTTP request GET https://localhost:44328/api/authors/GetFromDB?Name=Sawalha
2025-01-26 15:57:20.046 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 15:57:20.047 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.011ms - processed: 0 items - remaining: 1 items
2025-01-26 15:57:22.091 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44328/api/authors/GetFromDB?Name=Sawalha - null null
2025-01-26 15:57:22.098 +03:00 [DBG] 1 candidate(s) found for the request path '/api/authors/GetFromDB'
2025-01-26 15:57:22.098 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetFromDB (LibraryManagementAPI)' with route pattern 'api/Authors/GetFromDB' is valid for the request path '/api/authors/GetFromDB'
2025-01-26 15:57:22.098 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetFromDB (LibraryManagementAPI)'
2025-01-26 15:57:22.099 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 15:57:22.099 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-26 15:57:22.099 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetFromDB (LibraryManagementAPI)'
2025-01-26 15:57:22.116 +03:00 [INF] Route matched with {action = "GetFromDB", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetFromDB(Kernal.CacheFilter) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 15:57:22.116 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-26 15:57:22.116 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 15:57:22.116 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 15:57:22.116 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 15:57:22.116 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 15:57:22.116 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 15:57:22.118 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 15:57:22.119 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 15:57:22.128 +03:00 [DBG] Attempting to bind parameter 'options' of type 'Kernal.CacheFilter' ...
2025-01-26 15:57:22.129 +03:00 [DBG] Attempting to bind parameter 'options' of type 'Kernal.CacheFilter' using the name '' in request data ...
2025-01-26 15:57:22.147 +03:00 [DBG] Attempting to bind property 'Kernal.CacheFilter.Name' of type 'System.String' using the name 'Name' in request data ...
2025-01-26 15:57:22.149 +03:00 [DBG] Done attempting to bind property 'Kernal.CacheFilter.Name' of type 'System.String'.
2025-01-26 15:57:22.153 +03:00 [DBG] Done attempting to bind parameter 'options' of type 'Kernal.CacheFilter'.
2025-01-26 15:57:22.153 +03:00 [DBG] Done attempting to bind parameter 'options' of type 'Kernal.CacheFilter'.
2025-01-26 15:57:22.153 +03:00 [DBG] Attempting to validate the bound parameter 'options' of type 'Kernal.CacheFilter' ...
2025-01-26 15:57:22.155 +03:00 [DBG] Done attempting to validate the bound parameter 'options' of type 'Kernal.CacheFilter'.
2025-01-26 15:57:22.193 +03:00 [DBG] Compiling query expression: 
'DbSet<Author>()
    .Where(a => a.Name == __request_AuthorName_0)'
2025-01-26 15:57:22.234 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Author>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Author.AuthorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Author.AuthorAge (int) Required, 1], [Property: Author.AuthorType (short) Required, 2], [Property: Author.Name (string) Required MaxLength(100), 3] }
        SELECT a.AuthorId, a.AuthorAge, a.AuthorType, a.Name
        FROM Authors AS a
        WHERE a.Name == @__request_AuthorName_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Author.AuthorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Author.AuthorAge (int) Required, 1], [Property: Author.AuthorType (short) Required, 2], [Property: Author.Name (string) Required MaxLength(100), 3] }
        SELECT a.AuthorId, a.AuthorAge, a.AuthorType, a.Name
        FROM Authors AS a
        WHERE a.Name == @__request_AuthorName_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Author entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Author instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Author);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Author.AuthorId PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Author)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Author | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Author | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author")]: 
                        {
                            return 
                            {
                                Author instance;
                                instance = new Author();
                                instance.<AuthorId>k__BackingField = dataReader.GetInt32(0);
                                instance.<AuthorAge>k__BackingField = dataReader.GetInt32(1);
                                instance.<AuthorType>k__BackingField = Invoke(((CastingConverter<short, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Author.AuthorType (short) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author").FindProperty("AuthorType")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(2));
                                instance.<Name>k__BackingField = dataReader.GetString(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Author | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Author)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: LibraryManagementInfrastructure.LibraryDBContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-01-26 15:57:22.245 +03:00 [DBG] Creating DbConnection.
2025-01-26 15:57:22.248 +03:00 [DBG] Created DbConnection. (3ms).
2025-01-26 15:57:22.248 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:57:22.253 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:57:22.254 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 15:57:22.255 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-26 15:57:22.262 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-01-26 15:57:22.262 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_AuthorName_0='Sawalha'], CommandType='"Text"', CommandTimeout='30']
SELECT a."AuthorId", a."AuthorAge", a."AuthorType", a."Name"
FROM "Authors" AS a
WHERE a."Name" = @__request_AuthorName_0
2025-01-26 15:57:22.343 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__request_AuthorName_0='Sawalha'], CommandType='"Text"', CommandTimeout='30']
SELECT a."AuthorId", a."AuthorAge", a."AuthorType", a."Name"
FROM "Authors" AS a
WHERE a."Name" = @__request_AuthorName_0
2025-01-26 15:57:22.346 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 9}'.
2025-01-26 15:57:22.347 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:57:22.347 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-01-26 15:57:22.347 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:57:22.348 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 15:57:22.350 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 15:57:22.350 +03:00 [DBG] No information found on request to perform content negotiation.
2025-01-26 15:57:22.350 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 15:57:22.350 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 15:57:22.351 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 15:57:22.352 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementDomain.DTO.AuthorDTO'.
2025-01-26 15:57:22.363 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.GetFromDB (LibraryManagementAPI) in 247.1742ms
2025-01-26 15:57:22.363 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetFromDB (LibraryManagementAPI)'
2025-01-26 15:57:22.364 +03:00 [INF] HTTP GET /api/authors/GetFromDB responded 200 in 265.1549 ms
2025-01-26 15:57:22.365 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 15:57:22.365 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 15:57:22.366 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 15:57:22.366 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44328/api/authors/GetFromDB?Name=Sawalha - 200 null application/json; charset=utf-8 279.9578ms
2025-01-26 15:57:22.375 +03:00 [INF] Received HTTP response headers after 6756.0502ms - 200
2025-01-26 15:57:22.375 +03:00 [INF] End processing HTTP request after 6765.5879ms - 200
2025-01-26 15:57:22.420 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 15:57:22.420 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-01-26 15:57:22.421 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-01-26 15:57:22.421 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 15:57:22.421 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 15:57:22.421 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 15:57:22.421 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementDomain.DTO.AuthorDTO'.
2025-01-26 15:57:22.421 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI) in 6872.5065ms
2025-01-26 15:57:22.422 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)'
2025-01-26 15:57:22.422 +03:00 [INF] HTTP GET /api/Authors/by-name/Sawalha responded 200 in 6933.8060 ms
2025-01-26 15:57:22.422 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 15:57:22.422 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/api/Authors/by-name/Sawalha - 200 null application/json; charset=utf-8 7016.9337ms
2025-01-26 15:57:30.047 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 15:57:30.047 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0052ms - processed: 0 items - remaining: 1 items
2025-01-26 15:57:40.065 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 15:57:40.067 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0753ms - processed: 0 items - remaining: 1 items
2025-01-26 15:57:50.076 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 15:57:50.076 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0092ms - processed: 0 items - remaining: 1 items
2025-01-26 15:58:00.081 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-01-26 15:58:00.081 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 1 items
2025-01-26 16:03:34.843 +03:00 [DBG] Initializing Razor view compiler with no compiled views.
2025-01-26 16:03:35.005 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-01-26 16:03:35.197 +03:00 [DBG] Hosting starting
2025-01-26 16:03:35.248 +03:00 [INF] User profile is available. Using 'C:\Users\rashe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-26 16:03:35.265 +03:00 [DBG] Reading data from file 'C:\Users\rashe\AppData\Local\ASP.NET\DataProtection-Keys\key-34f2e68a-4570-439a-8454-209f4db72d73.xml'.
2025-01-26 16:03:35.294 +03:00 [DBG] Found key {34f2e68a-4570-439a-8454-209f4db72d73}.
2025-01-26 16:03:35.312 +03:00 [DBG] Considering key {34f2e68a-4570-439a-8454-209f4db72d73} with expiration date 2025-04-13 07:54:25Z as default key.
2025-01-26 16:03:35.315 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-01-26 16:03:35.316 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-01-26 16:03:35.318 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-01-26 16:03:35.325 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-01-26 16:03:35.327 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-01-26 16:03:35.328 +03:00 [DBG] Using key {34f2e68a-4570-439a-8454-209f4db72d73} as the default key.
2025-01-26 16:03:35.329 +03:00 [DBG] Key ring with default key {34f2e68a-4570-439a-8454-209f4db72d73} was loaded during application startup.
2025-01-26 16:03:35.503 +03:00 [DBG] Loaded hosting startup assembly LibraryManagementAPI
2025-01-26 16:03:35.504 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-01-26 16:03:35.504 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-01-26 16:03:35.504 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-01-26 16:03:35.647 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/index.html - null null
2025-01-26 16:03:35.804 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-26 16:03:35.805 +03:00 [INF] Hosting environment: Development
2025-01-26 16:03:35.805 +03:00 [INF] Content root path: C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library
2025-01-26 16:03:35.805 +03:00 [DBG] Hosting started
2025-01-26 16:03:35.978 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-01-26 16:03:36.055 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-01-26 16:03:36.057 +03:00 [DBG] Request did not match any endpoints
2025-01-26 16:03:36.172 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-01-26 16:03:36.175 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-01-26 16:03:36.271 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-01-26 16:03:36.272 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-01-26 16:03:36.287 +03:00 [DBG] Connection ID "18302628899323904019" disconnecting.
2025-01-26 16:03:36.291 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/index.html - 200 null text/html;charset=utf-8 656.3373ms
2025-01-26 16:03:37.785 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - null null
2025-01-26 16:03:37.785 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_vs/browserLink - null null
2025-01-26 16:03:37.792 +03:00 [DBG] Connection ID "18086456104325218305" disconnecting.
2025-01-26 16:03:37.794 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 7.674ms
2025-01-26 16:03:37.877 +03:00 [DBG] Connection ID "18302628929388675085" disconnecting.
2025-01-26 16:03:37.878 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_vs/browserLink - 200 null text/javascript; charset=UTF-8 93.1077ms
2025-01-26 16:03:38.807 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - null null
2025-01-26 16:03:38.807 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-01-26 16:03:38.807 +03:00 [DBG] Request did not match any endpoints
2025-01-26 16:03:39.123 +03:00 [DBG] Connection ID "18230571331055779848" disconnecting.
2025-01-26 16:03:39.123 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 316.5582ms
2025-01-26 16:04:05.093 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/RoleManagegement/login - application/json 39
2025-01-26 16:04:05.117 +03:00 [DBG] 1 candidate(s) found for the request path '/api/RoleManagegement/login'
2025-01-26 16:04:05.120 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)' with route pattern 'api/RoleManagegement/login' is valid for the request path '/api/RoleManagegement/login'
2025-01-26 16:04:05.121 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 16:04:05.124 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 16:04:05.216 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-26 16:04:05.221 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 16:04:05.222 +03:00 [INF] CORS policy execution successful.
2025-01-26 16:04:05.224 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 16:04:05.277 +03:00 [INF] Route matched with {action = "Login", controller = "RoleManagegement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LibraryManagementDomain.Models.LoginModel) on controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI).
2025-01-26 16:04:05.279 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-26 16:04:05.279 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 16:04:05.279 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 16:04:05.280 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 16:04:05.280 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 16:04:05.283 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI)
2025-01-26 16:04:05.813 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-01-26 16:04:06.813 +03:00 [DBG] The index {'CourseId'} was not created on entity type 'StudentCourse (Dictionary<string, object>)' as the properties are already covered by the index {'CourseId', 'StudentId'}.
2025-01-26 16:04:06.987 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-01-26 16:04:07.281 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 16:04:07.295 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.RoleManagegementController (LibraryManagementAPI)
2025-01-26 16:04:07.310 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' ...
2025-01-26 16:04:07.321 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' using the name '' in request data ...
2025-01-26 16:04:07.325 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 16:04:07.405 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.LoginModel'
2025-01-26 16:04:07.406 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 16:04:07.407 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 16:04:07.407 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel' ...
2025-01-26 16:04:07.470 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.LoginModel'.
2025-01-26 16:04:07.687 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __model_Id_0)'
2025-01-26 16:04:10.957 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string) Required, 1], [Property: User.RoleId (int) Required, 2] }
            SELECT TOP(1) u.Id, u.PasswordHash, u.RoleId
            FROM Users AS u
            WHERE u.Id == @__model_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string) Required, 1], [Property: User.RoleId (int) Required, 2] }
            SELECT TOP(1) u.Id, u.PasswordHash, u.RoleId
            FROM Users AS u
            WHERE u.Id == @__model_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(1);
                                    instance.<RoleId>k__BackingField = dataReader.GetInt32(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: LibraryManagementInfrastructure.LibraryDBContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-26 16:04:11.667 +03:00 [DBG] Creating DbConnection.
2025-01-26 16:04:13.075 +03:00 [DBG] Created DbConnection. (1746ms).
2025-01-26 16:04:13.093 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:04:13.407 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:04:13.413 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 16:04:13.429 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2025-01-26 16:04:13.441 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2025-01-26 16:04:13.458 +03:00 [DBG] Executing DbCommand [Parameters=[@__model_Id_0='12'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."PasswordHash", u."RoleId"
FROM "Users" AS u
WHERE u."Id" = @__model_Id_0
LIMIT 1
2025-01-26 16:04:13.628 +03:00 [INF] Executed DbCommand (173ms) [Parameters=[@__model_Id_0='12'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."PasswordHash", u."RoleId"
FROM "Users" AS u
WHERE u."Id" = @__model_Id_0
LIMIT 1
2025-01-26 16:04:13.736 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'User' entity with key '{Id: 12}'.
2025-01-26 16:04:13.783 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:04:13.806 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 165ms reading results.
2025-01-26 16:04:13.816 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:04:13.823 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (7ms).
2025-01-26 16:04:14.415 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.Id == __user_RoleId_0)'
2025-01-26 16:04:14.425 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Role>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required, 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Roles AS r
            WHERE r.Id == @__user_RoleId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required, 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Roles AS r
            WHERE r.Id == @__user_RoleId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Role entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Role instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Role);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Role.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Role)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")]: 
                            {
                                return 
                                {
                                    Role instance;
                                    instance = new Role();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Name>k__BackingField = dataReader.GetString(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Role")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Role)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: LibraryManagementInfrastructure.LibraryDBContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-26 16:04:14.432 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:04:14.433 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:04:14.434 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 16:04:14.434 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 16:04:14.434 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 16:04:14.434 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_RoleId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Id" = @__user_RoleId_0
LIMIT 1
2025-01-26 16:04:14.445 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_RoleId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Id" = @__user_RoleId_0
LIMIT 1
2025-01-26 16:04:14.450 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Role' entity with key '{Id: 3}'.
2025-01-26 16:04:14.454 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:04:14.454 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 8ms reading results.
2025-01-26 16:04:14.454 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:04:14.455 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 16:04:14.461 +03:00 [DBG] Compiling query expression: 
'DbSet<RolePermission>()
    .Where(rp => rp.RoleId == __role_Id_0)
    .Select(rp => rp.Permission)'
2025-01-26 16:04:14.476 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT r.Permission
        FROM RolePermissions AS r
        WHERE r.RoleId == @__role_Id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT r.Permission
        FROM RolePermissions AS r
        WHERE r.RoleId == @__role_Id_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.GetString(0);
        return value1;
    }, 
    contextType: LibraryManagementInfrastructure.LibraryDBContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-01-26 16:04:14.479 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:04:14.480 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:04:14.480 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 16:04:14.480 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 16:04:14.480 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-01-26 16:04:14.481 +03:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Permission"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__role_Id_0
2025-01-26 16:04:14.493 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__role_Id_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Permission"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__role_Id_0
2025-01-26 16:04:14.498 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:04:14.499 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2025-01-26 16:04:14.500 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:04:14.500 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 16:04:14.646 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 16:04:14.650 +03:00 [DBG] No information found on request to perform content negotiation.
2025-01-26 16:04:14.650 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 16:04:14.650 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 16:04:14.652 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 16:04:14.653 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-26 16:04:14.682 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI) in 9392.7204ms
2025-01-26 16:04:14.684 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.RoleManagegementController.Login (LibraryManagementAPI)'
2025-01-26 16:04:14.691 +03:00 [INF] HTTP POST /api/RoleManagegement/login responded 200 in 9562.1393 ms
2025-01-26 16:04:14.698 +03:00 [DBG] Connection ID "18014398518877224968" disconnecting.
2025-01-26 16:04:14.700 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 16:04:14.705 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:04:14.708 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (2ms).
2025-01-26 16:04:14.715 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/RoleManagegement/login - 200 null application/json; charset=utf-8 9621.8386ms
2025-01-26 16:04:40.386 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/api/Authors/by-name/Sawalha - null null
2025-01-26 16:04:40.390 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors/by-name/Sawalha'
2025-01-26 16:04:40.391 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)' with route pattern 'api/Authors/by-name/{name}' is valid for the request path '/api/Authors/by-name/Sawalha'
2025-01-26 16:04:40.391 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)'
2025-01-26 16:04:40.399 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 16:04:40.489 +03:00 [DBG] Successfully validated the token.
2025-01-26 16:04:40.491 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 16:04:40.517 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)'
2025-01-26 16:04:40.528 +03:00 [INF] Route matched with {action = "GetAuthorByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LibraryManagementDomain.DTO.AuthorDTO]] GetAuthorByName(System.String) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 16:04:40.528 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 16:04:40.528 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 16:04:40.528 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 16:04:40.528 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 16:04:40.528 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 16:04:40.530 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 16:04:40.625 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 16:04:40.628 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 16:04:40.630 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-01-26 16:04:40.635 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2025-01-26 16:04:40.640 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-01-26 16:04:40.640 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-01-26 16:04:40.640 +03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-01-26 16:04:40.642 +03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-01-26 16:04:41.112 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 16:04:41.116 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-01-26 16:04:41.119 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-01-26 16:04:41.119 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 16:04:41.119 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 16:04:41.119 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 16:04:41.120 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementDomain.DTO.AuthorDTO'.
2025-01-26 16:04:41.129 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI) in 600.0198ms
2025-01-26 16:04:41.129 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)'
2025-01-26 16:04:41.129 +03:00 [INF] HTTP GET /api/Authors/by-name/Sawalha responded 200 in 730.6059 ms
2025-01-26 16:04:41.132 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 16:04:41.132 +03:00 [DBG] Connection ID "18230571322465845251" disconnecting.
2025-01-26 16:04:41.134 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/api/Authors/by-name/Sawalha - 200 null application/json; charset=utf-8 748.3412ms
2025-01-26 16:06:38.910 +03:00 [DBG] Initializing Razor view compiler with no compiled views.
2025-01-26 16:06:39.927 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-01-26 16:06:40.047 +03:00 [DBG] Hosting starting
2025-01-26 16:06:40.119 +03:00 [INF] User profile is available. Using 'C:\Users\rashe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-26 16:06:40.146 +03:00 [DBG] Reading data from file 'C:\Users\rashe\AppData\Local\ASP.NET\DataProtection-Keys\key-34f2e68a-4570-439a-8454-209f4db72d73.xml'.
2025-01-26 16:06:40.181 +03:00 [DBG] Found key {34f2e68a-4570-439a-8454-209f4db72d73}.
2025-01-26 16:06:40.193 +03:00 [DBG] Considering key {34f2e68a-4570-439a-8454-209f4db72d73} with expiration date 2025-04-13 07:54:25Z as default key.
2025-01-26 16:06:40.196 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-01-26 16:06:40.196 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-01-26 16:06:40.198 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-01-26 16:06:40.201 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-01-26 16:06:40.204 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-01-26 16:06:40.206 +03:00 [DBG] Using key {34f2e68a-4570-439a-8454-209f4db72d73} as the default key.
2025-01-26 16:06:40.208 +03:00 [DBG] Key ring with default key {34f2e68a-4570-439a-8454-209f4db72d73} was loaded during application startup.
2025-01-26 16:06:41.022 +03:00 [DBG] Loaded hosting startup assembly LibraryManagementAPI
2025-01-26 16:06:41.023 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-01-26 16:06:41.023 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-01-26 16:06:41.024 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-01-26 16:06:41.129 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/index.html - null null
2025-01-26 16:06:41.223 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-26 16:06:41.224 +03:00 [INF] Hosting environment: Development
2025-01-26 16:06:41.224 +03:00 [INF] Content root path: C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library
2025-01-26 16:06:41.224 +03:00 [DBG] Hosting started
2025-01-26 16:06:41.362 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-01-26 16:06:41.379 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-01-26 16:06:41.379 +03:00 [DBG] Request did not match any endpoints
2025-01-26 16:06:41.487 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-01-26 16:06:41.490 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-01-26 16:06:41.574 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-01-26 16:06:41.575 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-01-26 16:06:41.587 +03:00 [DBG] Connection ID "18302628929388675087" disconnecting.
2025-01-26 16:06:41.587 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/index.html - 200 null text/html;charset=utf-8 470.5553ms
2025-01-26 16:06:42.543 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_vs/browserLink - null null
2025-01-26 16:06:42.547 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - null null
2025-01-26 16:06:42.553 +03:00 [DBG] Connection ID "18302628912208805910" disconnecting.
2025-01-26 16:06:42.556 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 6.0156ms
2025-01-26 16:06:42.605 +03:00 [DBG] Connection ID "18302628886439002132" disconnecting.
2025-01-26 16:06:42.614 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_vs/browserLink - 200 null text/javascript; charset=UTF-8 70.8075ms
2025-01-26 16:06:43.238 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - null null
2025-01-26 16:06:43.238 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-01-26 16:06:43.239 +03:00 [DBG] Request did not match any endpoints
2025-01-26 16:06:43.278 +03:00 [DBG] Connection ID "18158513732722884609" disconnecting.
2025-01-26 16:06:43.278 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 40.0046ms
2025-01-26 16:07:06.241 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/api/Authors/by-name/Sawalha - null null
2025-01-26 16:07:06.256 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors/by-name/Sawalha'
2025-01-26 16:07:06.260 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)' with route pattern 'api/Authors/by-name/{name}' is valid for the request path '/api/Authors/by-name/Sawalha'
2025-01-26 16:07:06.260 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)'
2025-01-26 16:07:06.263 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 16:07:06.515 +03:00 [DBG] Successfully validated the token.
2025-01-26 16:07:06.516 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 16:07:06.549 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)'
2025-01-26 16:07:06.598 +03:00 [INF] Route matched with {action = "GetAuthorByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LibraryManagementDomain.DTO.AuthorDTO]] GetAuthorByName(System.String) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 16:07:06.600 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 16:07:06.600 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 16:07:06.600 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 16:07:06.600 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 16:07:06.600 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 16:07:06.606 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 16:07:06.895 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-01-26 16:07:07.441 +03:00 [DBG] The index {'CourseId'} was not created on entity type 'StudentCourse (Dictionary<string, object>)' as the properties are already covered by the index {'CourseId', 'StudentId'}.
2025-01-26 16:07:07.556 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-01-26 16:07:07.694 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 16:07:07.701 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 16:07:07.708 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-01-26 16:07:07.710 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2025-01-26 16:07:07.711 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-01-26 16:07:07.711 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-01-26 16:07:07.712 +03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-01-26 16:07:07.747 +03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-01-26 16:07:07.930 +03:00 [DBG] Compiling query expression: 
'DbSet<Author>()
    .Where(a => a.Name == __query_AuthorName_0)
    .FirstOrDefault()'
2025-01-26 16:07:08.244 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Author>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Author>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Author.AuthorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Author.AuthorAge (int) Required, 1], [Property: Author.AuthorType (short) Required, 2], [Property: Author.Name (string) Required MaxLength(100), 3] }
            SELECT TOP(1) a.AuthorId, a.AuthorAge, a.AuthorType, a.Name
            FROM Authors AS a
            WHERE a.Name == @__query_AuthorName_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Author.AuthorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Author.AuthorAge (int) Required, 1], [Property: Author.AuthorType (short) Required, 2], [Property: Author.Name (string) Required MaxLength(100), 3] }
            SELECT TOP(1) a.AuthorId, a.AuthorAge, a.AuthorType, a.Name
            FROM Authors AS a
            WHERE a.Name == @__query_AuthorName_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Author entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Author instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Author);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Author.AuthorId PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Author)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Author | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Author | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author")]: 
                            {
                                return 
                                {
                                    Author instance;
                                    instance = new Author();
                                    instance.<AuthorId>k__BackingField = dataReader.GetInt32(0);
                                    instance.<AuthorAge>k__BackingField = dataReader.GetInt32(1);
                                    instance.<AuthorType>k__BackingField = Invoke(((CastingConverter<short, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Author.AuthorType (short) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author").FindProperty("AuthorType")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(2));
                                    instance.<Name>k__BackingField = dataReader.GetString(3);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Author | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Author)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: LibraryManagementInfrastructure.LibraryDBContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-26 16:07:08.423 +03:00 [DBG] Creating DbConnection.
2025-01-26 16:07:08.499 +03:00 [DBG] Created DbConnection. (75ms).
2025-01-26 16:07:08.511 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:07:10.096 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:07:10.098 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 16:07:10.109 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-01-26 16:07:10.116 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-01-26 16:07:10.125 +03:00 [DBG] Executing DbCommand [Parameters=[@__query_AuthorName_0='Sawalha'], CommandType='"Text"', CommandTimeout='30']
SELECT a."AuthorId", a."AuthorAge", a."AuthorType", a."Name"
FROM "Authors" AS a
WHERE a."Name" = @__query_AuthorName_0
LIMIT 1
2025-01-26 16:07:10.213 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@__query_AuthorName_0='Sawalha'], CommandType='"Text"', CommandTimeout='30']
SELECT a."AuthorId", a."AuthorAge", a."AuthorType", a."Name"
FROM "Authors" AS a
WHERE a."Name" = @__query_AuthorName_0
LIMIT 1
2025-01-26 16:07:10.274 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 9}'.
2025-01-26 16:07:10.305 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:07:10.316 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 96ms reading results.
2025-01-26 16:07:10.323 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:07:10.328 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (4ms).
2025-01-26 16:07:10.337 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 16:07:10.340 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-01-26 16:07:10.342 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-01-26 16:07:10.342 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 16:07:10.342 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 16:07:10.343 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 16:07:10.344 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementDomain.DTO.AuthorDTO'.
2025-01-26 16:07:10.364 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI) in 3759.7572ms
2025-01-26 16:07:10.364 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)'
2025-01-26 16:07:10.368 +03:00 [INF] HTTP GET /api/Authors/by-name/Sawalha responded 200 in 4102.0866 ms
2025-01-26 16:07:10.379 +03:00 [DBG] Connection ID "18158513732722884611" disconnecting.
2025-01-26 16:07:10.381 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 16:07:10.384 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:07:10.386 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (1ms).
2025-01-26 16:07:10.388 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/api/Authors/by-name/Sawalha - 200 null application/json; charset=utf-8 4147.8393ms
2025-01-26 16:14:32.097 +03:00 [DBG] Initializing Razor view compiler with no compiled views.
2025-01-26 16:14:32.196 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-01-26 16:14:32.374 +03:00 [DBG] Hosting starting
2025-01-26 16:14:32.463 +03:00 [INF] User profile is available. Using 'C:\Users\rashe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-26 16:14:32.483 +03:00 [DBG] Reading data from file 'C:\Users\rashe\AppData\Local\ASP.NET\DataProtection-Keys\key-34f2e68a-4570-439a-8454-209f4db72d73.xml'.
2025-01-26 16:14:32.531 +03:00 [DBG] Found key {34f2e68a-4570-439a-8454-209f4db72d73}.
2025-01-26 16:14:32.549 +03:00 [DBG] Considering key {34f2e68a-4570-439a-8454-209f4db72d73} with expiration date 2025-04-13 07:54:25Z as default key.
2025-01-26 16:14:32.554 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-01-26 16:14:32.555 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-01-26 16:14:32.557 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-01-26 16:14:32.566 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-01-26 16:14:32.568 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-01-26 16:14:32.571 +03:00 [DBG] Using key {34f2e68a-4570-439a-8454-209f4db72d73} as the default key.
2025-01-26 16:14:32.573 +03:00 [DBG] Key ring with default key {34f2e68a-4570-439a-8454-209f4db72d73} was loaded during application startup.
2025-01-26 16:14:32.818 +03:00 [DBG] Loaded hosting startup assembly LibraryManagementAPI
2025-01-26 16:14:32.819 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-01-26 16:14:32.820 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-01-26 16:14:32.827 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-01-26 16:14:32.858 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/index.html - null null
2025-01-26 16:14:38.599 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-01-26 16:14:38.601 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-26 16:14:38.601 +03:00 [INF] Hosting environment: Development
2025-01-26 16:14:38.601 +03:00 [INF] Content root path: C:\Users\rashe\OneDrive\Desktop\Codes\Library\Library
2025-01-26 16:14:38.601 +03:00 [DBG] Hosting started
2025-01-26 16:14:38.635 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-01-26 16:14:38.635 +03:00 [DBG] Request did not match any endpoints
2025-01-26 16:14:38.756 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-01-26 16:14:38.760 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-01-26 16:14:38.833 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-01-26 16:14:38.834 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-01-26 16:14:38.844 +03:00 [DBG] Connection ID "18302628886439002136" disconnecting.
2025-01-26 16:14:38.847 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/index.html - 200 null text/html;charset=utf-8 6000.7479ms
2025-01-26 16:14:40.333 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - null null
2025-01-26 16:14:40.334 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/_vs/browserLink - null null
2025-01-26 16:14:40.346 +03:00 [DBG] Connection ID "18158513732722884613" disconnecting.
2025-01-26 16:14:40.350 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 12.3032ms
2025-01-26 16:14:40.422 +03:00 [DBG] Connection ID "18374686497656799242" disconnecting.
2025-01-26 16:14:40.430 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/_vs/browserLink - 200 null text/javascript; charset=UTF-8 96.0889ms
2025-01-26 16:14:42.506 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - null null
2025-01-26 16:14:42.510 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-01-26 16:14:42.510 +03:00 [DBG] Request did not match any endpoints
2025-01-26 16:14:42.561 +03:00 [DBG] Connection ID "18302628916503773199" disconnecting.
2025-01-26 16:14:42.561 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 54.7722ms
2025-01-26 16:15:08.217 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/api/Authors - null null
2025-01-26 16:15:08.231 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 16:15:08.234 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 16:15:08.235 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)'
2025-01-26 16:15:08.237 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 16:15:08.498 +03:00 [DBG] Successfully validated the token.
2025-01-26 16:15:08.499 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 16:15:08.526 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)'
2025-01-26 16:15:08.571 +03:00 [INF] Route matched with {action = "GetAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[LibraryManagementDomain.DTO.AuthorDTO]]] GetAuthors() on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 16:15:08.573 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 16:15:08.573 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 16:15:08.573 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 16:15:08.573 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 16:15:08.574 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 16:15:08.579 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 16:15:08.861 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-01-26 16:15:09.428 +03:00 [DBG] The index {'CourseId'} was not created on entity type 'StudentCourse (Dictionary<string, object>)' as the properties are already covered by the index {'CourseId', 'StudentId'}.
2025-01-26 16:15:09.558 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-01-26 16:15:09.718 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 16:15:09.729 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 16:15:09.835 +03:00 [DBG] Compiling query expression: 
'DbSet<Author>()'
2025-01-26 16:15:10.106 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Author>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Author.AuthorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Author.AuthorAge (int) Required, 1], [Property: Author.AuthorType (short) Required, 2], [Property: Author.Name (string) Required MaxLength(100), 3] }
        SELECT a.AuthorId, a.AuthorAge, a.AuthorType, a.Name
        FROM Authors AS a) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Author.AuthorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Author.AuthorAge (int) Required, 1], [Property: Author.AuthorType (short) Required, 2], [Property: Author.Name (string) Required MaxLength(100), 3] }
        SELECT a.AuthorId, a.AuthorAge, a.AuthorType, a.Name
        FROM Authors AS a, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Author entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Author instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Author);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Author.AuthorId PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Author)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Author | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Author | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author")]: 
                        {
                            return 
                            {
                                Author instance;
                                instance = new Author();
                                instance.<AuthorId>k__BackingField = dataReader.GetInt32(0);
                                instance.<AuthorAge>k__BackingField = dataReader.GetInt32(1);
                                instance.<AuthorType>k__BackingField = Invoke(((CastingConverter<short, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Author.AuthorType (short) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author").FindProperty("AuthorType")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(2));
                                instance.<Name>k__BackingField = dataReader.GetString(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Author | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Author)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: LibraryManagementInfrastructure.LibraryDBContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-01-26 16:15:10.172 +03:00 [DBG] Creating DbConnection.
2025-01-26 16:15:10.243 +03:00 [DBG] Created DbConnection. (72ms).
2025-01-26 16:15:10.249 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:15:10.475 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:15:10.482 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 16:15:10.492 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-01-26 16:15:10.495 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-01-26 16:15:10.503 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."AuthorId", a."AuthorAge", a."AuthorType", a."Name"
FROM "Authors" AS a
2025-01-26 16:15:10.535 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."AuthorId", a."AuthorAge", a."AuthorType", a."Name"
FROM "Authors" AS a
2025-01-26 16:15:10.656 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 1}'.
2025-01-26 16:15:10.671 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 4}'.
2025-01-26 16:15:10.672 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 5}'.
2025-01-26 16:15:10.673 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 6}'.
2025-01-26 16:15:10.673 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 7}'.
2025-01-26 16:15:10.673 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 8}'.
2025-01-26 16:15:10.674 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 9}'.
2025-01-26 16:15:10.674 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 10}'.
2025-01-26 16:15:10.682 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:15:10.697 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 152ms reading results.
2025-01-26 16:15:10.704 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:15:10.712 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (8ms).
2025-01-26 16:15:10.722 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 16:15:10.727 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-01-26 16:15:10.728 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-01-26 16:15:10.728 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 16:15:10.728 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 16:15:10.729 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 16:15:10.729 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[LibraryManagementDomain.Entities.Author, LibraryManagementDomain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[LibraryManagementDomain.DTO.AuthorDTO, LibraryManagementDomain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-26 16:15:10.752 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI) in 2175.6402ms
2025-01-26 16:15:10.753 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthors (LibraryManagementAPI)'
2025-01-26 16:15:10.756 +03:00 [INF] HTTP GET /api/Authors responded 200 in 2516.7169 ms
2025-01-26 16:15:10.764 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 16:15:10.793 +03:00 [DBG] Connection ID "18302628886439002138" disconnecting.
2025-01-26 16:15:10.796 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:15:10.797 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (1ms).
2025-01-26 16:15:10.799 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/api/Authors - 200 null application/json; charset=utf-8 2581.7853ms
2025-01-26 16:15:49.479 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44328/api/Authors - application/json 66
2025-01-26 16:15:49.483 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors'
2025-01-26 16:15:49.483 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)' with route pattern 'api/Authors' is valid for the request path '/api/Authors'
2025-01-26 16:15:49.483 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 16:15:49.484 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 16:15:49.487 +03:00 [DBG] Successfully validated the token.
2025-01-26 16:15:49.487 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 16:15:49.491 +03:00 [DBG] The request has an origin header: 'https://localhost:44328'.
2025-01-26 16:15:49.492 +03:00 [INF] CORS policy execution successful.
2025-01-26 16:15:49.493 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 16:15:49.513 +03:00 [INF] Route matched with {action = "AddAuthor", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddAuthor(LibraryManagementDomain.Models.AuthorModel) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 16:15:49.514 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 16:15:49.514 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 16:15:49.514 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 16:15:49.514 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 16:15:49.514 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 16:15:49.515 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 16:15:49.608 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 16:15:49.609 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 16:15:49.614 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 16:15:49.615 +03:00 [DBG] Attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' using the name '' in request data ...
2025-01-26 16:15:49.616 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-26 16:15:49.639 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'LibraryManagementDomain.Models.AuthorModel'
2025-01-26 16:15:49.640 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 16:15:49.640 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 16:15:49.640 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel' ...
2025-01-26 16:15:49.715 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LibraryManagementDomain.Models.AuthorModel'.
2025-01-26 16:15:50.036 +03:00 [DBG] Creating DbConnection.
2025-01-26 16:15:50.036 +03:00 [DBG] Created DbConnection. (0ms).
2025-01-26 16:15:50.036 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:15:50.037 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:15:50.041 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-01-26 16:15:50.046 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-01-26 16:15:50.063 +03:00 [DBG] Compiling query expression: 
'DbSet<Author>()
    .Any(a => a.Name == __command_Model_Name_0)'
2025-01-26 16:15:50.123 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Authors AS a
                WHERE a.Name == @__command_Model_Name_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Authors AS a
                WHERE a.Name == @__command_Model_Name_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: LibraryManagementInfrastructure.LibraryDBContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-26 16:15:50.136 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 16:15:50.136 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 16:15:50.144 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-01-26 16:15:50.147 +03:00 [DBG] Executing DbCommand [Parameters=[@__command_Model_Name_0='TestedAuthor'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Authors" AS a
    WHERE a."Name" = @__command_Model_Name_0)
2025-01-26 16:15:50.167 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__command_Model_Name_0='TestedAuthor'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Authors" AS a
    WHERE a."Name" = @__command_Model_Name_0)
2025-01-26 16:15:50.171 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:15:50.171 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-01-26 16:15:50.214 +03:00 [DBG] 'LibraryDBContext' generated temporary value '-2147482647' for the property 'Author.AuthorId'.
2025-01-26 16:15:50.226 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: -2147482647}'.
2025-01-26 16:15:50.487 +03:00 [DBG] SaveChanges starting for 'LibraryDBContext'.
2025-01-26 16:15:50.491 +03:00 [DBG] DetectChanges starting for 'LibraryDBContext'.
2025-01-26 16:15:50.502 +03:00 [DBG] DetectChanges completed for 'LibraryDBContext'.
2025-01-26 16:15:50.570 +03:00 [DBG] Creating transaction savepoint.
2025-01-26 16:15:50.582 +03:00 [DBG] Created transaction savepoint.
2025-01-26 16:15:50.585 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 16:15:50.585 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 16:15:50.586 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-01-26 16:15:50.587 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='11', @p1='1', @p2='TestedAuthor' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Authors" ("AuthorAge", "AuthorType", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "AuthorId";
2025-01-26 16:15:50.607 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='11', @p1='1', @p2='TestedAuthor' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Authors" ("AuthorAge", "AuthorType", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "AuthorId";
2025-01-26 16:15:50.617 +03:00 [DBG] The foreign key property 'Author.AuthorId' was detected as changed from '-2147482647' to '11' for entity with key '{AuthorId: 11}'.
2025-01-26 16:15:50.625 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:15:50.625 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 17ms reading results.
2025-01-26 16:15:50.629 +03:00 [DBG] Releasing transaction savepoint.
2025-01-26 16:15:50.634 +03:00 [DBG] Released transaction savepoint.
2025-01-26 16:15:50.650 +03:00 [DBG] The 'Author' entity with key '{AuthorId: 11}' tracked by 'LibraryDBContext' changed state from '"Added"' to '"Unchanged"'.
2025-01-26 16:15:50.653 +03:00 [DBG] SaveChanges completed for 'LibraryDBContext' with 1 entities written to the database.
2025-01-26 16:15:50.657 +03:00 [DBG] Committing transaction.
2025-01-26 16:15:50.683 +03:00 [DBG] Committed transaction.
2025-01-26 16:15:50.688 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:15:50.689 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (1ms).
2025-01-26 16:15:50.764 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 16:15:50.765 +03:00 [DBG] No information found on request to perform content negotiation.
2025-01-26 16:15:50.765 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 16:15:50.765 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 16:15:50.765 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 16:15:50.765 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'LibraryManagementDomain.DTO.AuthorDTO'.
2025-01-26 16:15:50.787 +03:00 [DBG] Found the endpoints ["LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)"] for address (id=[0],action=[AddAuthor],controller=[Authors])
2025-01-26 16:15:50.791 +03:00 [DBG] Successfully processed template api/Authors for LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI) resulting in /api/Authors and ?id=0
2025-01-26 16:15:50.793 +03:00 [DBG] Link generation succeeded for endpoints ["LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)"] with result /api/Authors?id=0
2025-01-26 16:15:50.795 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI) in 1280.4238ms
2025-01-26 16:15:50.795 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.AddAuthor (LibraryManagementAPI)'
2025-01-26 16:15:50.795 +03:00 [INF] HTTP POST /api/Authors responded 201 in 1311.2049 ms
2025-01-26 16:15:50.796 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 16:15:50.796 +03:00 [DBG] Connection ID "18230571326760812554" disconnecting.
2025-01-26 16:15:50.796 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:15:50.796 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 16:15:50.797 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44328/api/Authors - 201 null application/json; charset=utf-8 1318.1354ms
2025-01-26 16:16:00.094 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44328/api/Authors/by-name/Sawalha - null null
2025-01-26 16:16:00.095 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors/by-name/Sawalha'
2025-01-26 16:16:00.095 +03:00 [DBG] Endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)' with route pattern 'api/Authors/by-name/{name}' is valid for the request path '/api/Authors/by-name/Sawalha'
2025-01-26 16:16:00.096 +03:00 [DBG] Request matched endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)'
2025-01-26 16:16:00.096 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-01-26 16:16:00.099 +03:00 [DBG] Successfully validated the token.
2025-01-26 16:16:00.099 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-01-26 16:16:00.100 +03:00 [INF] Executing endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)'
2025-01-26 16:16:00.110 +03:00 [INF] Route matched with {action = "GetAuthorByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LibraryManagementDomain.DTO.AuthorDTO]] GetAuthorByName(System.String) on controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI).
2025-01-26 16:16:00.111 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["LibraryManagementApplication.Authorization.AuthorizeRoleOrPermissionAttribute"]
2025-01-26 16:16:00.111 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-01-26 16:16:00.111 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-26 16:16:00.111 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-26 16:16:00.111 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-26 16:16:00.111 +03:00 [DBG] Executing controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 16:16:00.134 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'LibraryDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.2+697dd7182173ff3450eddc63b44837fba76331df' with options: SensitiveDataLoggingEnabled 
2025-01-26 16:16:00.135 +03:00 [DBG] Executed controller factory for controller LibraryManagementAPI.Controllers.AuthorsController (LibraryManagementAPI)
2025-01-26 16:16:00.136 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-01-26 16:16:00.137 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2025-01-26 16:16:00.139 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-01-26 16:16:00.139 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-01-26 16:16:00.139 +03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-01-26 16:16:00.141 +03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-01-26 16:16:00.157 +03:00 [DBG] Compiling query expression: 
'DbSet<Author>()
    .Where(a => a.Name == __query_AuthorName_0)
    .FirstOrDefault()'
2025-01-26 16:16:00.168 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Author>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Author>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Author.AuthorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Author.AuthorAge (int) Required, 1], [Property: Author.AuthorType (short) Required, 2], [Property: Author.Name (string) Required MaxLength(100), 3] }
            SELECT TOP(1) a.AuthorId, a.AuthorAge, a.AuthorType, a.Name
            FROM Authors AS a
            WHERE a.Name == @__query_AuthorName_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Author.AuthorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Author.AuthorAge (int) Required, 1], [Property: Author.AuthorType (short) Required, 2], [Property: Author.Name (string) Required MaxLength(100), 3] }
            SELECT TOP(1) a.AuthorId, a.AuthorAge, a.AuthorType, a.Name
            FROM Authors AS a
            WHERE a.Name == @__query_AuthorName_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Author entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Author instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Author);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Author.AuthorId PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Author)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Author | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Author | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author")]: 
                            {
                                return 
                                {
                                    Author instance;
                                    instance = new Author();
                                    instance.<AuthorId>k__BackingField = dataReader.GetInt32(0);
                                    instance.<AuthorAge>k__BackingField = dataReader.GetInt32(1);
                                    instance.<AuthorType>k__BackingField = Invoke(((CastingConverter<short, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Author.AuthorType (short) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author").FindProperty("AuthorType")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(2));
                                    instance.<Name>k__BackingField = dataReader.GetString(3);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Author | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("LibraryManagementDomain.Entities.Author")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Author)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: LibraryManagementInfrastructure.LibraryDBContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-26 16:16:00.176 +03:00 [DBG] Creating DbConnection.
2025-01-26 16:16:00.177 +03:00 [DBG] Created DbConnection. (0ms).
2025-01-26 16:16:00.177 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:16:00.177 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:16:00.177 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-26 16:16:00.177 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-26 16:16:00.181 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-26 16:16:00.181 +03:00 [DBG] Executing DbCommand [Parameters=[@__query_AuthorName_0='Sawalha'], CommandType='"Text"', CommandTimeout='30']
SELECT a."AuthorId", a."AuthorAge", a."AuthorType", a."Name"
FROM "Authors" AS a
WHERE a."Name" = @__query_AuthorName_0
LIMIT 1
2025-01-26 16:16:00.188 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__query_AuthorName_0='Sawalha'], CommandType='"Text"', CommandTimeout='30']
SELECT a."AuthorId", a."AuthorAge", a."AuthorType", a."Name"
FROM "Authors" AS a
WHERE a."Name" = @__query_AuthorName_0
LIMIT 1
2025-01-26 16:16:00.189 +03:00 [DBG] Context 'LibraryDBContext' started tracking 'Author' entity with key '{AuthorId: 9}'.
2025-01-26 16:16:00.191 +03:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:16:00.192 +03:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-01-26 16:16:00.192 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:16:00.192 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2025-01-26 16:16:00.201 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-26 16:16:00.201 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-01-26 16:16:00.202 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-01-26 16:16:00.202 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-26 16:16:00.202 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-26 16:16:00.202 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-26 16:16:00.202 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementDomain.DTO.AuthorDTO'.
2025-01-26 16:16:00.203 +03:00 [INF] Executed action LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI) in 92.0188ms
2025-01-26 16:16:00.203 +03:00 [INF] Executed endpoint 'LibraryManagementAPI.Controllers.AuthorsController.GetAuthorByName (LibraryManagementAPI)'
2025-01-26 16:16:00.203 +03:00 [INF] HTTP GET /api/Authors/by-name/Sawalha responded 200 in 107.4990 ms
2025-01-26 16:16:00.204 +03:00 [DBG] 'LibraryDBContext' disposed.
2025-01-26 16:16:00.204 +03:00 [DBG] Connection ID "18374686519131635725" disconnecting.
2025-01-26 16:16:00.205 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-01-26 16:16:00.206 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (1ms).
2025-01-26 16:16:00.207 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44328/api/Authors/by-name/Sawalha - 200 null application/json; charset=utf-8 112.6361ms
